
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>geotecha.plotting.one_d &#8212; geotecha 0.2.1 documentation</title>
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="../../../index.html"><img src="../../../_static/logo.png" border="0" alt="py4sci"/></a>
</div>



      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  <li><a href="../../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for geotecha.plotting.one_d</h1><div class="highlight"><pre>
<span></span><span class="c1"># geotecha - A software suite for geotechncial engineering</span>
<span class="c1"># Copyright (C) 2018  Rohan T. Walker (rtrwalker@gmail.com)</span>
<span class="c1">#</span>
<span class="c1"># This program is free software: you can redistribute it and/or modify</span>
<span class="c1"># it under the terms of the GNU General Public License as published by</span>
<span class="c1"># the Free Software Foundation, either version 3 of the License, or</span>
<span class="c1"># (at your option) any later version.</span>
<span class="c1">#</span>
<span class="c1"># This program is distributed in the hope that it will be useful,</span>
<span class="c1"># but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="c1"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="c1"># GNU General Public License for more details.</span>
<span class="c1">#</span>
<span class="c1"># You should have received a copy of the GNU General Public License</span>
<span class="c1"># along with this program.  If not, see http://www.gnu.org/licenses/gpl.html.</span>

<span class="sd">&quot;&quot;&quot;Routines to produce some matplotlib plots for one dimesional data.</span>

<span class="sd">One dimensional data is basically x-y data. (i.e. no contour plot needed)</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="n">division</span><span class="p">,</span> <span class="n">print_function</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.gridspec</span> <span class="k">as</span> <span class="nn">gridspec</span>
<span class="kn">import</span> <span class="nn">brewer2mpl</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">itertools</span>
<span class="kn">import</span> <span class="nn">geotecha.mathematics.transformations</span> <span class="k">as</span> <span class="nn">transformations</span>
<span class="kn">from</span> <span class="nn">geotecha.piecewise.piecewise_linear_1d</span> <span class="k">import</span> <span class="n">PolyLine</span>
<span class="kn">import</span> <span class="nn">geotecha.piecewise.piecewise_linear_1d</span> <span class="k">as</span> <span class="nn">pwise</span>
<span class="kn">import</span> <span class="nn">warnings</span>


<div class="viewcode-block" id="rgb_shade"><a class="viewcode-back" href="../../../api/geotecha.plotting.one_d.html#geotecha.plotting.one_d.rgb_shade">[docs]</a><span class="k">def</span> <span class="nf">rgb_shade</span><span class="p">(</span><span class="n">rgb</span><span class="p">,</span> <span class="n">factor</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">scaled</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Apply shade (darken) to a red, green, blue (rgb) triplet</span>

<span class="sd">    If rgba tuple is given the &#39;a&#39; value is not altered.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    rgb : tuple</span>
<span class="sd">        Triplet of rgb values.  Note can be an rgba value.</span>
<span class="sd">    factor : float</span>
<span class="sd">        Between 0 and 1. Factor by which to shade.  Default factor=1.</span>
<span class="sd">    scaled : bool</span>
<span class="sd">        If True then assumes RGB values aare scaled between 0, 1. If False</span>
<span class="sd">        rgb values are between 0 and 255.  Default scaled=True.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    rgb_new : tuple</span>
<span class="sd">        New tuple of rgb (or rgba) values.</span>

<span class="sd">    See Also</span>
<span class="sd">    --------</span>
<span class="sd">    rgb_tint : Lighten an rgb triplet.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; x=rgb_shade((0.4, 0.8, 0.2), factor=0.5)</span>
<span class="sd">    &gt;&gt;&gt; &#39;{:.2f}, {:.2f}, {:.2f}&#39;.format(*x)</span>
<span class="sd">    &#39;0.20, 0.40, 0.10&#39;</span>

<span class="sd">    &quot;&quot;&quot;</span>



    <span class="c1">#calc from http://stackoverflow.com/a/6615053/2530083</span>
    <span class="k">if</span> <span class="n">factor</span><span class="o">&lt;</span><span class="mi">0</span> <span class="ow">or</span> <span class="n">factor</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;factor must be between 0 and 1.  &#39;</span>
                         <span class="s1">&#39;You have </span><span class="si">{:g}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">factor</span><span class="p">))</span>

    <span class="n">rgb_new</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="o">*</span> <span class="n">factor</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">rgb</span><span class="p">[:</span><span class="mi">3</span><span class="p">]]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">rgb</span><span class="p">)</span><span class="o">==</span><span class="mi">4</span><span class="p">:</span>
        <span class="n">rgb_new</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rgb</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>

    <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">rgb_new</span><span class="p">)</span></div>


<div class="viewcode-block" id="rgb_tint"><a class="viewcode-back" href="../../../api/geotecha.plotting.one_d.html#geotecha.plotting.one_d.rgb_tint">[docs]</a><span class="k">def</span> <span class="nf">rgb_tint</span><span class="p">(</span><span class="n">rgb</span><span class="p">,</span> <span class="n">factor</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">scaled</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Apply tint (lighten) to a red, green, blue (rgb) triplet</span>

<span class="sd">    If rgba tuple is given the &#39;a&#39; value is not altered.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    rgb : tuple</span>
<span class="sd">        Triplet of rgb values.  Note can be an rgba value.</span>
<span class="sd">    factor : float</span>
<span class="sd">        Between 0 and 1. Factor by which to tint. Default factor=0.</span>
<span class="sd">    scaled : bool</span>
<span class="sd">        If True then assumes RGB values aare scaled between 0, 1. If False</span>
<span class="sd">        rgb values are between 0 and 255.  Default scaled=True.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    rgb_new : tuple</span>
<span class="sd">        New tuple of rgb ( or rgba).</span>

<span class="sd">    See Also</span>
<span class="sd">    --------</span>
<span class="sd">    rgb_shade : Darken an rgb triplet.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; x=rgb_tint((0.4, 0.8, 0.2), factor=0.5)</span>
<span class="sd">    &gt;&gt;&gt; &#39;{:.2f}, {:.2f}, {:.2f}&#39;.format(*x)</span>
<span class="sd">    &#39;0.70, 0.90, 0.60&#39;</span>

<span class="sd">    &gt;&gt;&gt; x=rgb_tint((155, 205, 55), factor=0.5, scaled=False)</span>
<span class="sd">    &gt;&gt;&gt; &#39;{:.2f}, {:.2f}, {:.2f}&#39;.format(*x)</span>
<span class="sd">    &#39;205.00, 230.00, 155.00&#39;</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#calc from http://stackoverflow.com/a/6615053/2530083</span>
    <span class="k">if</span> <span class="n">factor</span><span class="o">&lt;</span><span class="mi">0</span> <span class="ow">or</span> <span class="n">factor</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;factor must be between 0 and 1.  You have </span><span class="si">{:g}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">factor</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">scaled</span><span class="p">:</span>
        <span class="n">black</span><span class="o">=</span><span class="mf">1.0</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">black</span><span class="o">=</span><span class="mi">255</span>

    <span class="n">rgb_new</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="o">+</span> <span class="p">(</span><span class="n">black</span><span class="o">-</span><span class="n">v</span><span class="p">)</span> <span class="o">*</span> <span class="n">factor</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">rgb</span><span class="p">[:</span><span class="mi">3</span><span class="p">]]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">rgb</span><span class="p">)</span><span class="o">==</span><span class="mi">4</span><span class="p">:</span>
        <span class="n">rgb_new</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rgb</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>

    <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">rgb_new</span><span class="p">)</span></div>



<div class="viewcode-block" id="copy_dict"><a class="viewcode-back" href="../../../api/geotecha.plotting.one_d.html#geotecha.plotting.one_d.copy_dict">[docs]</a><span class="k">def</span> <span class="nf">copy_dict</span><span class="p">(</span><span class="n">source_dict</span><span class="p">,</span> <span class="n">diffs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns a copy of source_dict, updated with the new key-value</span>
<span class="sd">       pairs in diffs dict.</span>


<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    source_dict : dict</span>
<span class="sd">        Source dictionary.</span>
<span class="sd">    diffs : dict</span>
<span class="sd">        Dictionary with which to update `source_dict`.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    out : dict</span>
<span class="sd">        Shallow copy of `source_dict` updated with `diffs` dict.</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    http://stackoverflow.com/a/5551706/2530083</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; d = copy_dict({&#39;a&#39;:7, &#39;b&#39;:12}, {&#39;c&#39;:13})</span>
<span class="sd">    &gt;&gt;&gt; d[&#39;a&#39;]; d[&#39;b&#39;]; d[&#39;c&#39;]</span>
<span class="sd">    7</span>
<span class="sd">    12</span>
<span class="sd">    13</span>

<span class="sd">    &gt;&gt;&gt; d = copy_dict({&#39;a&#39;:7, &#39;b&#39;:12}, {&#39;a&#39;:21, &#39;c&#39;:13})</span>
<span class="sd">    &gt;&gt;&gt; d[&#39;a&#39;]; d[&#39;b&#39;]; d[&#39;c&#39;]</span>
<span class="sd">    21</span>
<span class="sd">    12</span>
<span class="sd">    13</span>


<span class="sd">    &quot;&quot;&quot;</span>
       <span class="c1">#http://stackoverflow.com/a/5551706/2530083</span>

    <span class="n">result</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">source_dict</span><span class="p">)</span> <span class="c1"># Shallow copy, see addendum below</span>
    <span class="n">result</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">diffs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="MarkersDashesColors"><a class="viewcode-back" href="../../../api/geotecha.plotting.one_d.html#geotecha.plotting.one_d.MarkersDashesColors">[docs]</a><span class="k">class</span> <span class="nc">MarkersDashesColors</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Nice looking markers, dashed lines, and colors for matplotlib line plots</span>

<span class="sd">    Use this object to create a list of style dictionaries.  Each style dict</span>
<span class="sd">    can be unpacked when passed to the matplotlib.plot command.  Each dict</span>
<span class="sd">    contains the appropriate keywords to set the marker, dashes, and color</span>
<span class="sd">    properties.  You can turn the list into a cycle using itertools.cycle</span>
<span class="sd">    To see the marker, dashes, and color options run the `demo_options&#39; method.</span>
<span class="sd">    To choose a subset of styles see the `__call__` method.  To view what the</span>
<span class="sd">    chosen styles actually look like run the `construct_styles&#39; and the</span>
<span class="sd">    `demo_styles` method</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    **kwargs : keyword arguments</span>
<span class="sd">        key value pairs to override the default_marker. e.g. color=(1.0,0,0)</span>
<span class="sd">        would change the default line and marker color to red. markersize=8</span>
<span class="sd">        would change all marker sizes to 8. Most likely value to change are</span>
<span class="sd">        color, markersize, alpha.  Defult values of the default_marker are:</span>

<span class="sd">        ================= ===========================================</span>
<span class="sd">        key               value</span>
<span class="sd">        ================= ===========================================</span>
<span class="sd">        markersize        5</span>
<span class="sd">        markeredgecolor   `almost_black`, &#39;#262626&#39;</span>
<span class="sd">        markeredgewidth   1</span>
<span class="sd">        markerfacecolor   `almost_black`, &#39;#262626&#39;</span>
<span class="sd">        alpha             0.9</span>
<span class="sd">        color             `almost_black`, &#39;#262626&#39;</span>
<span class="sd">        ================= ===========================================</span>


<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    almost_black : str</span>
<span class="sd">        hex string representing the default color, almost black &#39;#262626&#39;.</span>
<span class="sd">    color : matplotlib color</span>
<span class="sd">        Default color of markers and lines.  Default color=`almost_black`.</span>
<span class="sd">    dashes : list of tuples</span>
<span class="sd">        List of on, off tuples for use with matplotlib dashes.</span>
<span class="sd">        See `construct_dashes` method.</span>
<span class="sd">    colors : list of tuples</span>
<span class="sd">        List of rgb tuples describing colors.  See `construct_dashes`.</span>
<span class="sd">    markers : list of dict</span>
<span class="sd">        List of dict describing marker properties to pass to matplotlib.plot</span>
<span class="sd">        command.  See `construct_markers` method.</span>
<span class="sd">    default_marker : dict</span>
<span class="sd">        Default properties for markers.  These defaults will be overridden by</span>
<span class="sd">        the values in `markers`. Before initialization `default_marker` has</span>
<span class="sd">        the following keys.</span>


<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">almost_black</span> <span class="o">=</span> <span class="s1">&#39;#262626&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialization of MarkersDashesColors object&quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">almost_black</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">default_marker</span><span class="o">=</span><span class="p">{</span><span class="c1">#&#39;marker&#39;:&#39;o&#39;,</span>
                             <span class="s1">&#39;markersize&#39;</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span>
                             <span class="s1">&#39;markeredgecolor&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">,</span>
                             <span class="s1">&#39;markeredgewidth&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
                             <span class="s1">&#39;markerfacecolor&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">,</span>
                             <span class="s1">&#39;alpha&#39;</span><span class="p">:</span><span class="mf">0.9</span><span class="p">,</span>
                             <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span>
                             <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">default_marker</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">construct_dashes</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">construct_colors</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">construct_markers</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">merge_default_markers</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="o">=</span><span class="p">[]</span>



    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">markers</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">dashes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">marker_colors</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">line_colors</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;List of styles to unpack in matplotlib.plot for pleasing lines/markers</span>

<span class="sd">        If `markers`, `dashes`, `marker_colors`, and `line_colors` are all</span>
<span class="sd">        ``None`` then styles will be a cycle through combos of markers, colors,</span>
<span class="sd">        and lines such that each default marker, line, color appears at least</span>
<span class="sd">        once.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        markers : sequence</span>
<span class="sd">            List of ``int`` specifying  index of self.markers.</span>
<span class="sd">            Default markers=None, i.e. no markers.</span>
<span class="sd">        dashes : sequence</span>
<span class="sd">            List of ``int`` specifying index of self.dashes.</span>
<span class="sd">            Default dashes=None i.e. no line.</span>
<span class="sd">        marker_colors : sequence</span>
<span class="sd">            List of ``int`` specifying index of self.colors to apply to</span>
<span class="sd">            each marker. Default marker_colors=None i.e. use self.color</span>
<span class="sd">            for all markers.</span>
<span class="sd">        line_colors : sequence</span>
<span class="sd">            List of ``int`` specifying index of self.colors.</span>
<span class="sd">            Default line_colors=None i.e. use self.color for lines.</span>


<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">n</span><span class="o">=</span><span class="nb">max</span><span class="p">([</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span><span class="n">markers</span><span class="p">,</span> <span class="n">dashes</span><span class="p">,</span> <span class="n">marker_colors</span><span class="p">,</span> <span class="n">line_colors</span><span class="p">]</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">])</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">if</span> <span class="n">n</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
            <span class="n">markers</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">markers</span><span class="p">)))</span>
            <span class="n">dashes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dashes</span><span class="p">)))</span>
            <span class="n">marker_colors</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">colors</span><span class="p">)))</span>
            <span class="n">line_colors</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">colors</span><span class="p">)))</span>
            <span class="n">n</span> <span class="o">=</span> <span class="nb">max</span><span class="p">([</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span><span class="n">markers</span><span class="p">,</span> <span class="n">dashes</span><span class="p">,</span> <span class="n">marker_colors</span><span class="p">,</span> <span class="n">line_colors</span><span class="p">]</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">markers</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="c1"># no markers</span>
            <span class="n">markers</span><span class="o">=</span><span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">([</span><span class="kc">None</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">markers</span><span class="o">=</span><span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">(</span><span class="n">markers</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dashes</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="c1"># no lines</span>
            <span class="n">dashes</span><span class="o">=</span><span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">([</span><span class="kc">None</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">dashes</span><span class="o">=</span><span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">(</span><span class="n">dashes</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">marker_colors</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="c1">#default color</span>
            <span class="n">marker_colors</span><span class="o">=</span><span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">([</span><span class="kc">None</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">marker_colors</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">(</span><span class="n">marker_colors</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">line_colors</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="c1">#defult color</span>
            <span class="n">line_colors</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">([</span><span class="kc">None</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">line_colors</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">(</span><span class="n">line_colors</span><span class="p">)</span>

        <span class="n">styles</span><span class="o">=</span><span class="p">[</span><span class="nb">dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="n">m</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">markers</span><span class="p">)</span>
            <span class="n">mc</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">marker_colors</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">m</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">styles</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;marker&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;none&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">styles</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">markers</span><span class="p">[</span><span class="n">m</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">mc</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="c1">#                    styles[i].update({&#39;markeredgecolor&#39;: self.color,</span>
<span class="c1">#                               &#39;markerfacecolor&#39;: self.color})</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">markers</span><span class="p">[</span><span class="n">m</span><span class="p">][</span><span class="s1">&#39;markeredgecolor&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;none&#39;</span><span class="p">:</span>
                        <span class="n">styles</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;markeredgecolor&#39;</span><span class="p">]</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">markers</span><span class="p">[</span><span class="n">m</span><span class="p">][</span><span class="s1">&#39;markerfacecolor&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;none&#39;</span><span class="p">:</span>
                        <span class="n">styles</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;markerfacecolor&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">markers</span><span class="p">[</span><span class="n">m</span><span class="p">][</span><span class="s1">&#39;markeredgecolor&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;none&#39;</span><span class="p">:</span>
                        <span class="n">styles</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;markeredgecolor&#39;</span><span class="p">]</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">colors</span><span class="p">[</span><span class="n">mc</span><span class="p">]</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">markers</span><span class="p">[</span><span class="n">m</span><span class="p">][</span><span class="s1">&#39;markerfacecolor&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;none&#39;</span><span class="p">:</span>
                        <span class="n">styles</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;markerfacecolor&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">colors</span><span class="p">[</span><span class="n">mc</span><span class="p">]</span>

            <span class="n">d</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">dashes</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">d</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">styles</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;linestyle&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;None&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">styles</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;dashes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dashes</span><span class="p">[</span><span class="n">d</span><span class="p">]</span>

            <span class="n">lc</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">line_colors</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">lc</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">styles</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">styles</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">colors</span><span class="p">[</span><span class="n">lc</span><span class="p">]</span>



        <span class="k">return</span> <span class="n">styles</span>




<div class="viewcode-block" id="MarkersDashesColors.merge_default_markers"><a class="viewcode-back" href="../../../api/geotecha.plotting.one_d.html#geotecha.plotting.one_d.MarkersDashesColors.merge_default_markers">[docs]</a>    <span class="k">def</span> <span class="nf">merge_default_markers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Merge self.default_marker dict with each dict in self.markers&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">markers</span><span class="o">=</span><span class="p">[</span><span class="n">copy_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">default_marker</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">markers</span><span class="p">]</span>
        <span class="k">return</span></div>

<div class="viewcode-block" id="MarkersDashesColors.construct_dashes"><a class="viewcode-back" href="../../../api/geotecha.plotting.one_d.html#geotecha.plotting.one_d.MarkersDashesColors.construct_dashes">[docs]</a>    <span class="k">def</span> <span class="nf">construct_dashes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;List of on, off tuples for use with matplotlib dashes&quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">dashes</span><span class="o">=</span><span class="p">[(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                     <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span>
                     <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
                     <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
                     <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
                     <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span>
                    <span class="p">]</span><span class="c1">#, (7,3,7,3,7,3,2,3),(20,20) ,(5,5)]</span>
        <span class="k">return</span></div>

<div class="viewcode-block" id="MarkersDashesColors.tint_colors"><a class="viewcode-back" href="../../../api/geotecha.plotting.one_d.html#geotecha.plotting.one_d.MarkersDashesColors.tint_colors">[docs]</a>    <span class="k">def</span> <span class="nf">tint_colors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">factor</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="s2">&quot;Lighten all colors by factor&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="n">rgb_tint</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">factor</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">colors</span><span class="p">]</span>
        <span class="k">return</span></div>

<div class="viewcode-block" id="MarkersDashesColors.shade_colors"><a class="viewcode-back" href="../../../api/geotecha.plotting.one_d.html#geotecha.plotting.one_d.MarkersDashesColors.shade_colors">[docs]</a>    <span class="k">def</span> <span class="nf">shade_colors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">factor</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="s2">&quot;Darken all colors by factor&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="n">rgb_shade</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">factor</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">colors</span><span class="p">]</span>
        <span class="k">return</span></div>

<div class="viewcode-block" id="MarkersDashesColors.construct_colors"><a class="viewcode-back" href="../../../api/geotecha.plotting.one_d.html#geotecha.plotting.one_d.MarkersDashesColors.construct_colors">[docs]</a>    <span class="k">def</span> <span class="nf">construct_colors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Populate self.colors: a list of rgb colors&quot;&quot;&quot;</span>


        <span class="c1"># These are from brewer2mpl.get_map(&#39;Set2&#39;, &#39;qualitative&#39;, 8).mpl_colors</span>
            <span class="c1">#see http://colorbrewer2.org/</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">colors</span> <span class="o">=</span> <span class="p">[(</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.7607843137254902</span><span class="p">,</span> <span class="mf">0.6470588235294118</span><span class="p">),</span> <span class="c1">#turqoise</span>
                       <span class="p">(</span><span class="mf">0.9882352941176471</span><span class="p">,</span> <span class="mf">0.5529411764705883</span><span class="p">,</span> <span class="mf">0.3843137254901961</span><span class="p">),</span> <span class="c1">#orange</span>
                       <span class="p">(</span><span class="mf">0.5529411764705883</span><span class="p">,</span> <span class="mf">0.6274509803921569</span><span class="p">,</span> <span class="mf">0.796078431372549</span><span class="p">),</span> <span class="c1">#blue</span>
                       <span class="p">(</span><span class="mf">0.9058823529411765</span><span class="p">,</span> <span class="mf">0.5411764705882353</span><span class="p">,</span> <span class="mf">0.7647058823529411</span><span class="p">),</span> <span class="c1">#pink</span>
                       <span class="p">(</span><span class="mf">0.6509803921568628</span><span class="p">,</span> <span class="mf">0.8470588235294118</span><span class="p">,</span> <span class="mf">0.32941176470588235</span><span class="p">),</span> <span class="c1">#lime green</span>
<span class="c1">#                       (1.0, 0.8509803921568627, 0.1843137254901961), # yellow</span>
                       <span class="p">(</span><span class="mf">0.8980392156862745</span><span class="p">,</span> <span class="mf">0.7686274509803922</span><span class="p">,</span> <span class="mf">0.5803921568627451</span><span class="p">),</span> <span class="c1">#light brown</span>
                       <span class="p">(</span><span class="mf">0.7019607843137254</span><span class="p">,</span> <span class="mf">0.7019607843137254</span><span class="p">,</span> <span class="mf">0.7019607843137254</span><span class="p">)]</span> <span class="c1">#grey</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">shade_colors</span><span class="p">(</span><span class="mf">0.8</span><span class="p">)</span></div>

<div class="viewcode-block" id="MarkersDashesColors.construct_markers"><a class="viewcode-back" href="../../../api/geotecha.plotting.one_d.html#geotecha.plotting.one_d.MarkersDashesColors.construct_markers">[docs]</a>    <span class="k">def</span> <span class="nf">construct_markers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Populate self.markers: a list of dict that define a matplotlib marker</span>

<span class="sd">        run `self.merge_default_markers` after running</span>
<span class="sd">        `self.construct_markers` so that default properties are applied</span>
<span class="sd">        properly.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1">#marker (numsides,style, angle) # theses markers cannot have fillstyle</span>
        <span class="n">ngon</span><span class="o">=</span><span class="mi">0</span>
        <span class="n">star</span><span class="o">=</span><span class="mi">1</span>
        <span class="n">asterisk</span><span class="o">=</span><span class="mi">2</span>
        <span class="n">circle</span><span class="o">=</span><span class="mi">3</span>
        <span class="c1">#fillstyle, &#39;full&#39;, &#39;left&#39;, &#39;right&#39;, &#39;bottom&#39;, &#39;top&#39;, &#39;none&#39;</span>

        <span class="c1">#anything in self.makers</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">markers</span><span class="o">=</span><span class="p">[</span>
            <span class="c1">#mix of matplotlib, named latex, and STIX font unicode</span>
                <span class="c1"># http://www.stixfonts.org/allGlyphs.html</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;o&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span>
             <span class="s1">&#39;fillstyle&#39;</span><span class="p">:</span> <span class="s1">&#39;bottom&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span>
             <span class="s1">&#39;markerfacecolor&#39;</span><span class="p">:</span> <span class="s1">&#39;none&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;^&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span>
             <span class="s1">&#39;fillstyle&#39;</span><span class="p">:</span> <span class="s1">&#39;left&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span>
             <span class="s1">&#39;markerfacecolor&#39;</span><span class="p">:</span> <span class="s1">&#39;none&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span>
             <span class="s1">&#39;fillstyle&#39;</span><span class="p">:</span> <span class="s1">&#39;top&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;^&#39;</span><span class="p">,</span>
             <span class="s1">&#39;fillstyle&#39;</span><span class="p">:</span> <span class="s1">&#39;left&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span>
             <span class="s1">&#39;markerfacecolor&#39;</span><span class="p">:</span> <span class="s1">&#39;none&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span>
             <span class="s1">&#39;fillstyle&#39;</span><span class="p">:</span> <span class="s1">&#39;left&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;v&#39;</span><span class="p">,</span>
             <span class="s1">&#39;markerfacecolor&#39;</span><span class="p">:</span> <span class="s1">&#39;none&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;$\boxplus$&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;D&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;v&#39;</span><span class="p">,</span>
             <span class="s1">&#39;fillstyle&#39;</span><span class="p">:</span> <span class="s1">&#39;bottom&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;^&#39;</span><span class="p">,</span>
             <span class="s1">&#39;markerfacecolor&#39;</span><span class="p">:</span> <span class="s1">&#39;none&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="sa">u</span><span class="s1">&#39;$</span><span class="se">\u25E9</span><span class="s1">$&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="sa">u</span><span class="s1">&#39;$</span><span class="se">\u2b2d</span><span class="s1">$&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;h&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;^&#39;</span><span class="p">,</span>
             <span class="s1">&#39;fillstyle&#39;</span><span class="p">:</span> <span class="s1">&#39;bottom&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;$\otimes$&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;v&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span>
             <span class="s1">&#39;fillstyle&#39;</span><span class="p">:</span> <span class="s1">&#39;right&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span>
             <span class="s1">&#39;fillstyle&#39;</span><span class="p">:</span> <span class="s1">&#39;bottom&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span>
             <span class="s1">&#39;fillstyle&#39;</span><span class="p">:</span> <span class="s1">&#39;left&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span>
             <span class="s1">&#39;markerfacecolor&#39;</span><span class="p">:</span> <span class="s1">&#39;none&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span>
             <span class="s1">&#39;fillstyle&#39;</span><span class="p">:</span> <span class="s1">&#39;top&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="n">asterisk</span><span class="p">,</span> <span class="mi">0</span><span class="p">)},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="sa">u</span><span class="s1">&#39;$</span><span class="se">\u29bf</span><span class="s1">$&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="sa">u</span><span class="s1">&#39;$</span><span class="se">\u29c7</span><span class="s1">$&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="sa">u</span><span class="s1">&#39;$</span><span class="se">\u29fe</span><span class="s1">$&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="sa">u</span><span class="s1">&#39;$</span><span class="se">\u27E1</span><span class="s1">$&#39;</span><span class="p">},</span>
            <span class="p">]</span>






<span class="c1">#            #didn&#39;t make the cut</span>
<span class="c1">#            {&#39;marker&#39;: &#39;H&#39;,</span>
<span class="c1">#             &#39;fillstyle&#39;: &#39;bottom&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;D&#39;,</span>
<span class="c1">#             &#39;markerfacecolor&#39;: &#39;none&#39;,</span>
<span class="c1">#             &#39;fillstyle&#39;: &#39;top&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;o&#39;,</span>
<span class="c1">#             &#39;markerfacecolor&#39;: &#39;none&#39;,</span>
<span class="c1">#             &#39;fillstyle&#39;: &#39;top&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;s&#39;,</span>
<span class="c1">#             &#39;markerfacecolor&#39;: &#39;none&#39;,</span>
<span class="c1">#             &#39;fillstyle&#39;: &#39;top&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;h&#39;,</span>
<span class="c1">#             &#39;markerfacecolor&#39;: &#39;none&#39;,</span>
<span class="c1">#             &#39;fillstyle&#39;: &#39;top&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;^&#39;,</span>
<span class="c1">#             &#39;markerfacecolor&#39;: &#39;none&#39;,</span>
<span class="c1">#             &#39;fillstyle&#39;: &#39;top&#39;},</span>
<span class="c1">#</span>
<span class="c1">#            {&#39;marker&#39;: &#39;^&#39;,</span>
<span class="c1">#             &#39;markerfacecolor&#39;: &#39;none&#39;,</span>
<span class="c1">#             &#39;fillstyle&#39;: &#39;right&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;s&#39;,</span>
<span class="c1">#             &#39;markerfacecolor&#39;: &#39;none&#39;,</span>
<span class="c1">#             &#39;fillstyle&#39;: &#39;right&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;o&#39;,</span>
<span class="c1">#             &#39;markerfacecolor&#39;: &#39;none&#39;,</span>
<span class="c1">#             &#39;fillstyle&#39;: &#39;right&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;h&#39;,</span>
<span class="c1">#             &#39;markerfacecolor&#39;: &#39;none&#39;,</span>
<span class="c1">#             &#39;fillstyle&#39;: &#39;right&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;D&#39;,</span>
<span class="c1">#             &#39;markerfacecolor&#39;: &#39;none&#39;,</span>
<span class="c1">#             &#39;fillstyle&#39;: &#39;right&#39;},</span>
<span class="c1">#</span>
<span class="c1">#             #default matplotlib markers that didn&#39;t make the cut</span>
<span class="c1">#            {&#39;marker&#39;: 0},</span>
<span class="c1">#            {&#39;marker&#39;: 1},</span>
<span class="c1">#            {&#39;marker&#39;: 2},</span>
<span class="c1">#            {&#39;marker&#39;: 3},</span>
<span class="c1">#            {&#39;marker&#39;: 4},</span>
<span class="c1">#            {&#39;marker&#39;: 6},</span>
<span class="c1">#            {&#39;marker&#39;: 7},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;|&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;None&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: None},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;x&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: 5},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;_&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39; &#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;d&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;d&#39;,</span>
<span class="c1">#             &#39;fillstyle&#39;: &#39;bottom&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;d&#39;,</span>
<span class="c1">#             &#39;fillstyle&#39;: &#39;left&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;+&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;*&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;,&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;.&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;1&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;p&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;3&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;2&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;4&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;H&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;v&#39;,</span>
<span class="c1">#             &#39;fillstyle&#39;: &#39;left&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;8&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;&lt;&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: &#39;&gt;&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: (6, star, 0)},</span>

<span class="c1">#            #named latex that didn&#39;t make the cut</span>
<span class="c1">#            {&#39;marker&#39;: r&#39;$\boxtimes$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: r&#39;$\boxdot$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: r&#39;$\oplus$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: r&#39;$\odot$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\smile$&#39;},</span>

            <span class="c1">#STIX FONTS unicode that didn&#39;t make the cut</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u29b8$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u29bb$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u29be$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u29c4$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u29c5$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u29c6$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u29c8$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u29d0$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u29d1$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u29d2$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u29d3$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u29d6$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u29d7$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u29e8$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u29e9$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u2b12$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u2b13$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u2b14$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u2b15$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u2b16$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u2b17$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u2b18$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u2b19$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u2b1f$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u2b20$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u2b21$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u2b22$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u2b23$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u2b24$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u2b25$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u2b26$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u2b27$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u2b28$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u2b29$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u2b2a$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u2b2b$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u2b2c$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u2b2e$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u2b2f$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u272a$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u2736$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u273d$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u27c1$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u25A3$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u25C8$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u25D0$&#39;},#strange straight ine on upper right</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u25D1$&#39;},#strange straight ine on upper right</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u25D2$&#39;},#strange straight ine on upper right</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u25D3$&#39;},#strange straight ine on upper right</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u25E7$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u25E8$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u25EA$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u25EC$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u27D0$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u2A39$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u2A3B$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u22C7$&#39;},</span>
<span class="c1">#            {&#39;marker&#39;: u&#39;$\u$&#39;},</span>


    <span class="c1">#matplotlib markers</span>
    <span class="c1">#marker 	description</span>
    <span class="c1">#&quot;.&quot; 	point</span>
    <span class="c1">#&quot;,&quot; 	pixel</span>
    <span class="c1">#&quot;o&quot; 	circle</span>
    <span class="c1">#&quot;v&quot; 	triangle_down</span>
    <span class="c1">#&quot;^&quot; 	triangle_up</span>
    <span class="c1">#&quot;&lt;&quot; 	triangle_left</span>
    <span class="c1">#&quot;&gt;&quot; 	triangle_right</span>
    <span class="c1">#&quot;1&quot; 	tri_down</span>
    <span class="c1">#&quot;2&quot; 	tri_up</span>
    <span class="c1">#&quot;3&quot; 	tri_left</span>
    <span class="c1">#&quot;4&quot; 	tri_right</span>
    <span class="c1">#&quot;8&quot; 	octagon</span>
    <span class="c1">#&quot;s&quot; 	square</span>
    <span class="c1">#&quot;p&quot; 	pentagon</span>
    <span class="c1">#&quot;*&quot; 	star</span>
    <span class="c1">#&quot;h&quot; 	hexagon1</span>
    <span class="c1">#&quot;H&quot; 	hexagon2</span>
    <span class="c1">#&quot;+&quot; 	plus</span>
    <span class="c1">#&quot;x&quot; 	x</span>
    <span class="c1">#&quot;D&quot; 	diamond</span>
    <span class="c1">#&quot;d&quot; 	thin_diamond</span>
    <span class="c1">#&quot;|&quot; 	vline</span>
    <span class="c1">#&quot;_&quot; 	hline</span>
    <span class="c1">#TICKLEFT 	tickleft</span>
    <span class="c1">#TICKRIGHT 	tickright</span>
    <span class="c1">#TICKUP 	tickup</span>
    <span class="c1">#TICKDOWN 	tickdown</span>
    <span class="c1">#CARETLEFT 	caretleft</span>
    <span class="c1">#CARETRIGHT 	caretright</span>
    <span class="c1">#CARETUP 	caretup</span>
    <span class="c1">#CARETDOWN 	caretdown</span>
    <span class="c1">#&quot;None&quot; 	nothing</span>
    <span class="c1">#None 	nothing</span>
    <span class="c1">#&quot; &quot; 	nothing</span>
    <span class="c1">#&quot;&quot; 	nothing</span>


        <span class="k">return</span></div>



<div class="viewcode-block" id="MarkersDashesColors.construct_styles"><a class="viewcode-back" href="../../../api/geotecha.plotting.one_d.html#geotecha.plotting.one_d.MarkersDashesColors.construct_styles">[docs]</a>    <span class="k">def</span> <span class="nf">construct_styles</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">markers</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dashes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">marker_colors</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                         <span class="n">line_colors</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Calls self.__call__ and assigns results to self.styles&quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">styles</span> <span class="o">=</span> <span class="bp">self</span><span class="p">(</span><span class="n">markers</span><span class="p">,</span> <span class="n">dashes</span><span class="p">,</span> <span class="n">marker_colors</span><span class="p">,</span> <span class="n">line_colors</span><span class="p">)</span>

        <span class="k">return</span></div>

<div class="viewcode-block" id="MarkersDashesColors.demo_styles"><a class="viewcode-back" href="../../../api/geotecha.plotting.one_d.html#geotecha.plotting.one_d.MarkersDashesColors.demo_styles">[docs]</a>    <span class="k">def</span> <span class="nf">demo_styles</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Show a figure of all the styles in self.styles&quot;&quot;&quot;</span>

        <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
        <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">,</span> <span class="n">frame_on</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">get_xaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_ticks</span><span class="p">([])</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">get_yaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_ticks</span><span class="p">([])</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;No styles set.  Use the &#39;construct_styles&#39; method.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">style</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="p">):</span>
                <span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">5</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span>
                <span class="n">y</span> <span class="o">=</span> <span class="n">i</span><span class="o">//</span><span class="mi">5</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">]),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">y</span><span class="p">,</span><span class="n">y</span><span class="o">+</span><span class="mf">0.3</span><span class="p">]),</span> <span class="o">**</span><span class="n">style</span><span class="p">)</span>
                <span class="n">s</span><span class="o">=</span><span class="n">i</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">y</span><span class="o">+</span><span class="mf">0.3</span><span class="p">),</span>
                             <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;offset points&#39;</span><span class="p">,</span>
                             <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">verticalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;styles&#39;</span><span class="p">)</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="k">return</span></div>

<div class="viewcode-block" id="MarkersDashesColors.demo_options"><a class="viewcode-back" href="../../../api/geotecha.plotting.one_d.html#geotecha.plotting.one_d.MarkersDashesColors.demo_options">[docs]</a>    <span class="k">def</span> <span class="nf">demo_options</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Show a figure with all the marker, dashes, color options available&quot;&quot;&quot;</span>

        <span class="c1">#markers</span>
        <span class="n">gs</span> <span class="o">=</span> <span class="n">gridspec</span><span class="o">.</span><span class="n">GridSpec</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">fig</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">num</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>


        <span class="n">ax1</span><span class="o">=</span><span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">m</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">markers</span><span class="p">):</span>
            <span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">5</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">i</span><span class="o">//</span><span class="mi">5</span>
            <span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">]),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">y</span><span class="p">,</span><span class="n">y</span><span class="o">+</span><span class="mf">0.3</span><span class="p">]),</span> <span class="o">**</span><span class="n">m</span><span class="p">)</span>
            <span class="n">s</span><span class="o">=</span><span class="nb">repr</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="s1">&#39;marker&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;$&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;u&#39;</span><span class="se">\\</span><span class="s2">u&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="n">s</span><span class="o">=</span><span class="n">i</span>
            <span class="n">ax1</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">y</span><span class="o">+</span><span class="mf">0.3</span><span class="p">),</span>
                         <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;offset points&#39;</span><span class="p">,</span>
                         <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">verticalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>
        <span class="n">ax1</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
        <span class="n">ax1</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">ax1</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Markers&#39;</span><span class="p">)</span>
        <span class="n">ax1</span><span class="o">.</span><span class="n">get_xaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_ticks</span><span class="p">([])</span>
        <span class="n">ax1</span><span class="o">.</span><span class="n">get_yaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_ticks</span><span class="p">([])</span>
        <span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Options for MarkersDashesColors object&#39;</span><span class="p">)</span>

        <span class="c1">#dashes</span>
        <span class="n">ax2</span><span class="o">=</span><span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dashes</span><span class="p">):</span>
            <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">i</span>
            <span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">]),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">y</span><span class="p">,</span><span class="n">y</span><span class="o">+</span><span class="mf">0.3</span><span class="p">]),</span> <span class="n">dashes</span><span class="o">=</span><span class="n">d</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">almost_black</span><span class="p">)</span>
            <span class="n">s</span><span class="o">=</span><span class="n">i</span>
            <span class="n">ax2</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">y</span><span class="o">+</span><span class="mf">0.3</span><span class="p">),</span>
                         <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;offset points&#39;</span><span class="p">,</span>
                         <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">verticalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span>
                         <span class="n">color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">almost_black</span>
                         <span class="p">)</span>
        <span class="n">ax2</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="o">-</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">1.2</span><span class="p">)</span>
        <span class="n">ax2</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">ax2</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Dashes&#39;</span><span class="p">)</span>
        <span class="n">ax2</span><span class="o">.</span><span class="n">get_xaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_ticks</span><span class="p">([])</span>
        <span class="n">ax2</span><span class="o">.</span><span class="n">get_yaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_ticks</span><span class="p">([])</span>

        <span class="c1">#colors</span>
        <span class="n">ax3</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">colors</span><span class="p">):</span>
            <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">i</span>
            <span class="n">ax3</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">]),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">y</span><span class="p">,</span><span class="n">y</span><span class="o">+</span><span class="mf">0.3</span><span class="p">]),</span> <span class="n">color</span><span class="o">=</span><span class="n">c</span><span class="p">,</span><span class="n">ls</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
            <span class="n">s</span><span class="o">=</span><span class="n">i</span>
            <span class="n">ax3</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">y</span><span class="o">+</span><span class="mf">0.3</span><span class="p">),</span>
                         <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;offset points&#39;</span><span class="p">,</span>
                         <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">verticalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span>
                         <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">almost_black</span>
                         <span class="p">)</span>
        <span class="n">ax3</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="o">-</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">1.2</span><span class="p">)</span>
        <span class="n">ax3</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">ax3</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;colors&#39;</span><span class="p">)</span>
        <span class="n">ax3</span><span class="o">.</span><span class="n">get_xaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_ticks</span><span class="p">([])</span>
        <span class="n">ax3</span><span class="o">.</span><span class="n">get_yaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_ticks</span><span class="p">([])</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="k">return</span></div></div>


<div class="viewcode-block" id="pleasing_defaults"><a class="viewcode-back" href="../../../api/geotecha.plotting.one_d.html#geotecha.plotting.one_d.pleasing_defaults">[docs]</a><span class="k">def</span> <span class="nf">pleasing_defaults</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Alter some matplotlib rcparams defaults to be visually more appealing</span>


<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Many of the ideas/defaults/code come from Olga Botvinnik [1]_, and her</span>
<span class="sd">    `prettyplot` package [2]_.</span>

<span class="sd">    .. [1] http://blog.olgabotvinnik.com/post/58941062205/prettyplotlib-painlessly-create-beautiful-matplotlib</span>
<span class="sd">    .. [2] http://olgabot.github.io/prettyplotlib/</span>

<span class="sd">    &quot;&quot;&quot;</span>


    <span class="c1"># Get Set2 from ColorBrewer, a set of colors deemed colorblind-safe and</span>
    <span class="c1"># pleasant to look at by Drs. Cynthia Brewer and Mark Harrower of Pennsylvania</span>
    <span class="c1"># State University. These colors look lovely together, and are less</span>
    <span class="c1"># saturated than those colors in Set1. For more on ColorBrewer, see:</span>
    <span class="c1"># - Flash-based interactive map:</span>
    <span class="c1">#     http://colorbrewer2.org/</span>
    <span class="c1"># - A quick visual reference to every ColorBrewer scale:</span>
    <span class="c1">#     http://bl.ocks.org/mbostock/5577023</span>
    <span class="n">set2</span> <span class="o">=</span> <span class="n">brewer2mpl</span><span class="o">.</span><span class="n">get_map</span><span class="p">(</span><span class="s1">&#39;Set2&#39;</span><span class="p">,</span> <span class="s1">&#39;qualitative&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">mpl_colors</span>

    <span class="c1"># Another ColorBrewer scale. This one has nice &quot;traditional&quot; colors like</span>
    <span class="c1"># reds and blues</span>
    <span class="n">set1</span> <span class="o">=</span> <span class="n">brewer2mpl</span><span class="o">.</span><span class="n">get_map</span><span class="p">(</span><span class="s1">&#39;Set1&#39;</span><span class="p">,</span> <span class="s1">&#39;qualitative&#39;</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span><span class="o">.</span><span class="n">mpl_colors</span>
    <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;axes.color_cycle&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">set2</span>

    <span class="c1"># Set some commonly used colors</span>
    <span class="n">almost_black</span> <span class="o">=</span> <span class="s1">&#39;#262626&#39;</span>
    <span class="n">light_grey</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="nb">float</span><span class="p">(</span><span class="mi">248</span><span class="p">)</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="mi">255</span><span class="p">)]</span> <span class="o">*</span> <span class="mi">3</span><span class="p">)</span>

    <span class="n">reds</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">Reds</span>
    <span class="n">reds</span><span class="o">.</span><span class="n">set_bad</span><span class="p">(</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
    <span class="n">reds</span><span class="o">.</span><span class="n">set_under</span><span class="p">(</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>

    <span class="n">blues_r</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">Blues_r</span>
    <span class="n">blues_r</span><span class="o">.</span><span class="n">set_bad</span><span class="p">(</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
    <span class="n">blues_r</span><span class="o">.</span><span class="n">set_under</span><span class="p">(</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>

    <span class="c1"># Need to &#39;reverse&#39; red to blue so that blue=cold=small numbers,</span>
    <span class="c1"># and red=hot=large numbers with &#39;_r&#39; suffix</span>
    <span class="n">blue_red</span> <span class="o">=</span> <span class="n">brewer2mpl</span><span class="o">.</span><span class="n">get_map</span><span class="p">(</span><span class="s1">&#39;RdBu&#39;</span><span class="p">,</span> <span class="s1">&#39;Diverging&#39;</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span>
                                  <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">mpl_colormap</span>

    <span class="c1"># Default &quot;patches&quot; like scatterplots</span>
    <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;patch.linewidth&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.75</span>     <span class="c1"># edge width in points</span>

    <span class="c1"># Default empty circle with a colored outline</span>
    <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;patch.facecolor&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;none&#39;</span>
    <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;patch.edgecolor&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">set2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="c1"># Change the default axis colors from black to a slightly lighter black,</span>
    <span class="c1"># and a little thinner (0.5 instead of 1)</span>
    <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;axes.edgecolor&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">almost_black</span>
    <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;axes.labelcolor&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">almost_black</span>
    <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;axes.linewidth&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.5</span>

    <span class="c1"># Make the default grid be white so it &quot;removes&quot; lines rather than adds</span>
    <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;grid.color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;white&#39;</span>

    <span class="c1"># change the tick colors also to the almost black</span>
    <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;ytick.color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">almost_black</span>
    <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;xtick.color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">almost_black</span>

    <span class="c1"># change the text colors also to the almost black</span>
    <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;text.color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">almost_black</span></div>


<div class="viewcode-block" id="iterable_method_call"><a class="viewcode-back" href="../../../api/geotecha.plotting.one_d.html#geotecha.plotting.one_d.iterable_method_call">[docs]</a><span class="k">def</span> <span class="nf">iterable_method_call</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">unpack</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Call a method on each element of an iterable</span>


<span class="sd">    iterable[i].method(arg)</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    iterable : sequence etc.</span>
<span class="sd">        Iterable whos members will have thier attribute changed.</span>
<span class="sd">    method : string</span>
<span class="sd">        Method to call.</span>
<span class="sd">    unpack : bool</span>
<span class="sd">        If True then each member of `*args` will be unpacked before passing to</span>
<span class="sd">        method.</span>
<span class="sd">    *args : positional arguments</span>
<span class="sd">        If a single positional argument then all members of `iterable`</span>
<span class="sd">        will have their method called with the same single argument.</span>
<span class="sd">        If more that one positional argument then</span>
<span class="sd">        iterable[0].method will be called with args[0],</span>
<span class="sd">        iterable[1].method will be set to args[1] etc.</span>
<span class="sd">        Skip elements by having corresponding value of *args=None.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">iterable</span><span class="p">:</span>
            <span class="nb">getattr</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">method</span><span class="p">)()</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">unpack</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">iterable</span><span class="p">:</span>
                    <span class="nb">getattr</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">method</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">iterable</span><span class="p">:</span>
                    <span class="nb">getattr</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">method</span><span class="p">)(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">unpack</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">a</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="nb">getattr</span><span class="p">(</span><span class="n">iterable</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">method</span><span class="p">)(</span><span class="o">*</span><span class="n">a</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">a</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="nb">getattr</span><span class="p">(</span><span class="n">iterable</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">method</span><span class="p">)(</span><span class="n">a</span><span class="p">)</span>
        <span class="k">return</span></div>




<div class="viewcode-block" id="xylabel_subplots"><a class="viewcode-back" href="../../../api/geotecha.plotting.one_d.html#geotecha.plotting.one_d.xylabel_subplots">[docs]</a><span class="k">def</span> <span class="nf">xylabel_subplots</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">y_axis_labels</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">x_axis_labels</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Set x-axis label and y-axis label for each sub plot in figure</span>

<span class="sd">    Note: labels are applied to axes in the order they were created, which</span>
<span class="sd">    is not always the way they appear in the figure.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    fig : matplotlib.Figure</span>
<span class="sd">        Figure to apply labels to.</span>
<span class="sd">    y_axis_labels : sequence</span>
<span class="sd">        Label to place on y-axis of each subplot.  Use None to skip a subplot.</span>
<span class="sd">        Default y_axis_label=None</span>
<span class="sd">    x_axis_labels : sequence</span>
<span class="sd">        Label to place on x-axis of each subplot.  Use None to skip a subplot.</span>
<span class="sd">        Default x_axis_label=None.</span>


<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">y_axis_labels</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">label</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">y_axis_labels</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">label</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">fig</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">x_axis_labels</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">label</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">x_axis_labels</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">label</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">fig</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>

    <span class="k">return</span></div>


<div class="viewcode-block" id="row_major_order_reverse_map"><a class="viewcode-back" href="../../../api/geotecha.plotting.one_d.html#geotecha.plotting.one_d.row_major_order_reverse_map">[docs]</a><span class="k">def</span> <span class="nf">row_major_order_reverse_map</span><span class="p">(</span><span class="n">shape</span><span class="p">,</span> <span class="n">index_steps</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">transpose</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Map an index to a position in a row-major ordered array by reversing dims</span>

<span class="sd">    ::</span>

<span class="sd">         e.g. shape=(3,3)</span>
<span class="sd">         |2 1 0|      |0 1 2|</span>
<span class="sd">         |5 4 3| --&gt;  |3 4 5|</span>
<span class="sd">         |8 7 6|      |6 7 8|</span>
<span class="sd">         need 0--&gt;2, 1--&gt;1, 2--&gt;0. i.e. [2 1 0 5 4 3 8 7 6].</span>
<span class="sd">         Use row_major_order_reverse_map((3,3), (1,-1))</span>


<span class="sd">    Use this to essentially change the subplot ordering in a matplotlib figure.</span>
<span class="sd">    Say I wanted sub_plot ordering as in the left arrangement of the above</span>
<span class="sd">    example. use mymap = row_major_order_reverse_map((3,3), (1,-1)).  If I</span>
<span class="sd">    wanted to plot in my position 5 I would pass mymap[5] to the figure.</span>



<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    shape : tuple</span>
<span class="sd">        Shape of array, e.g. (rows, columns)</span>
<span class="sd">    index_steps : list of 1 or -1, optional</span>
<span class="sd">        Traverse each array dimension in steps f `index_steps`.</span>
<span class="sd">        Default index_steps=None i.e. all dims traversed in normal</span>
<span class="sd">        order. e.g. for 3 d array, index_steps=(1,-1, 1) would mean</span>
<span class="sd">        2nd dimension would be reversed.</span>
<span class="sd">    transpose : True/False, optional</span>
<span class="sd">        When True, transposes indexes (final operation).</span>
<span class="sd">        Default transpose=False.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    pos : 1d ndarray</span>
<span class="sd">        Array that maps index to position in row-major ordered array</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    A use for this is positioning subplots in a matplotlib gridspec</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; row_major_order_reverse_map(shape=(3, 3), index_steps=None, transpose=False)</span>
<span class="sd">    array([0, 1, 2, 3, 4, 5, 6, 7, 8])</span>
<span class="sd">    &gt;&gt;&gt; row_major_order_reverse_map(shape=(3, 3), index_steps=(-1, 1), transpose=False)</span>
<span class="sd">    array([6, 7, 8, 3, 4, 5, 0, 1, 2])</span>
<span class="sd">    &gt;&gt;&gt; row_major_order_reverse_map(shape=(3, 3), index_steps=(1, -1), transpose=False)</span>
<span class="sd">    array([2, 1, 0, 5, 4, 3, 8, 7, 6])</span>
<span class="sd">    &gt;&gt;&gt; row_major_order_reverse_map(shape=(3, 3), index_steps=(-1, -1), transpose=False)</span>
<span class="sd">    array([8, 7, 6, 5, 4, 3, 2, 1, 0])</span>
<span class="sd">    &gt;&gt;&gt; row_major_order_reverse_map(shape=(3, 3), index_steps=None, transpose=True)</span>
<span class="sd">    array([0, 3, 6, 1, 4, 7, 2, 5, 8])</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">shape</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">shape</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">index_steps</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">index_steps</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">shape</span><span class="p">,</span><span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>


    <span class="n">pos</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="n">shape</span><span class="p">))</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">shape</span><span class="p">)</span>
    <span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="nb">slice</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">index_steps</span><span class="p">]</span>
    <span class="n">pos</span><span class="p">[</span><span class="o">...</span><span class="p">]</span><span class="o">=</span><span class="n">pos</span><span class="p">[</span><span class="n">a</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">transpose</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">pos</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">pos</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>


    <span class="k">return</span></div>



<div class="viewcode-block" id="split_sequence_into_dict_and_nondicts"><a class="viewcode-back" href="../../../api/geotecha.plotting.one_d.html#geotecha.plotting.one_d.split_sequence_into_dict_and_nondicts">[docs]</a><span class="k">def</span> <span class="nf">split_sequence_into_dict_and_nondicts</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Separate dict and non-dict items. Merge dicts and merge non-dicts</span>

<span class="sd">    Elements are combined in the order that they appear.  i.e. non-dict items</span>
<span class="sd">    will be appended to a combined list as they are encounterd.  Repeated dict</span>
<span class="sd">    keys will be overridded by the latest value.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    *args : one or more positional items</span>
<span class="sd">        Mixture of dict and non-dict.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    merged_non_dict : list</span>
<span class="sd">        List of non dictionary items.</span>
<span class="sd">    merged_dict : dict</span>
<span class="sd">        Merged dictionary.</span>

<span class="sd">    &quot;&quot;&quot;</span>


    <span class="n">merged_non_dict</span><span class="o">=</span><span class="p">[]</span>
    <span class="n">merged_dict</span><span class="o">=</span><span class="nb">dict</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">merged_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="c1">#http://stackoverflow.com/a/39437/2530083</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">merged_non_dict</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">merged_non_dict</span><span class="p">,</span> <span class="n">merged_dict</span></div>


<div class="viewcode-block" id="plot_data_in_grid"><a class="viewcode-back" href="../../../api/geotecha.plotting.one_d.html#geotecha.plotting.one_d.plot_data_in_grid">[docs]</a><span class="k">def</span> <span class="nf">plot_data_in_grid</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">gs</span><span class="p">,</span>
                       <span class="n">gs_index</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                       <span class="n">sharex</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Make a subplot for each set of data</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    fig : matplotlib.Figure</span>
<span class="sd">        Figure to create subplots in.</span>
<span class="sd">    data : sequence of sequence of 2 element sequence</span>
<span class="sd">        data[i] = Data for the ith subplot.</span>
<span class="sd">        data[i][j] = jth (x, y) data set for the ith subplot.</span>
<span class="sd">        Each set of (x, y) data will be plotted using matplotlib.plot fn</span>
<span class="sd">        e.g. data=[([x0, y0],), ([x1, y1],), ([x2a, y2a], [x2b, x2b])]</span>
<span class="sd">        Note that data[i][j] will be split into list of all the non-dict items</span>
<span class="sd">        and a merged dict of all the dict items.  Both the list and the merged</span>
<span class="sd">        dict will be unpacked and passed to the `plot_type` function.  This</span>
<span class="sd">        allows passing of keyword arguments. If one of the dict keys is</span>
<span class="sd">        &#39;plot_type&#39; it&#39;s value should be a string indicating a method of</span>
<span class="sd">        matplotlib.Axes that can be used to create the subplot.  If</span>
<span class="sd">        &#39;plot_type&#39; is not found then the default matplotlib.Axes.plot will</span>
<span class="sd">        be used. Be careful when using () to group data if there is only</span>
<span class="sd">        one item in the (item) then they are just parentheses and you are</span>
<span class="sd">        just saying &#39;item&#39;; put a comma after the item to make it a tuple</span>
<span class="sd">        which is usually what you want when specifying data in this function.</span>
<span class="sd">    gs : matplotlib.gridspec.GridSpec instance</span>
<span class="sd">        Defines the grid in which subplots will be created.</span>
<span class="sd">    gs_index : List of int or list of slice, optional</span>
<span class="sd">        Specifies the position within gs that each data set will be plotted</span>
<span class="sd">        Positions can be specified by 1) an integer which will correspond to</span>
<span class="sd">        row-major ordering in the grid (e.g. for a 3x3 grid, index 3 will be</span>
<span class="sd">        second row, first column), or 2) a tuple of (row,column), or 3) a slice</span>
<span class="sd">        (e.g. index of np.s_[:1,:1] will span from first row, first column to</span>
<span class="sd">        second row, second column).  Another slice method is slice(3,7) which</span>
<span class="sd">        will span from position 3 to position 7.</span>
<span class="sd">        Default gs_index=None subplots are added in row-major ordering.</span>
<span class="sd">    sharex : sequence of int</span>
<span class="sd">        Subplot index to share x-axis with.</span>
<span class="sd">        Default sharex=None i.e. no sharing.</span>
<span class="sd">        To skip a  subplot put None as the corresponding element of sharex.</span>
<span class="sd">        If only one value is given and ther is more than one data set then</span>
<span class="sd">        all subplots will share the given axis.  Note that the axis to share</span>
<span class="sd">        must already have been created.</span>
<span class="sd">    sharey : sequence of int</span>
<span class="sd">        Subplot index to share y-axis with.</span>
<span class="sd">        Default sharey=None i.e. no sharing.</span>
<span class="sd">        To skip a  subplot put None as the corresponding element of sharey.</span>
<span class="sd">        If only one value is given and ther is more than one data set then</span>
<span class="sd">        all subplots will share the given axis.  Note that the axis to share</span>
<span class="sd">        must already have been created.</span>


<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    ax : List of :class:`matplotlib.pyplot.Axes` instances. Don&#39;t be</span>
<span class="sd">        confused with normal meaning of &#39;ax&#39;, this `ax` is a list of Axes, not</span>
<span class="sd">        just one.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    You may be wondering how to apply axes labels and such.  Do something like</span>
<span class="sd">    [a.set_xlabel(v) for a, v in zip(fig.get_axes(), [xlabel1, xlabel2, ...])]</span>


<span class="sd">    &quot;&quot;&quot;</span>

<span class="c1">#    gridspec_prop: dict</span>
<span class="c1">#        dictionary of keyword arguments to pass to matplotlib.gridspec.GridSpec</span>
<span class="c1">#        object. Any attribute will correspond to the convential positioning,</span>
<span class="c1">#        i.e. gs_index will be ignored. Default=dict().</span>
<span class="c1">#        e.g. gridspec_prop=dict(width_ratios=[1,2],</span>
<span class="c1">#        height_ratios=[4,1], left=0.55, right=0.98, hspace=0.05, wspace=0.02)</span>
<span class="c1">#    plot_type: sequence of str, optional</span>
<span class="c1">#        list of matplotlib.pyplot methods to use for each data set.</span>
<span class="c1">#        default=None which uses &#39;plot&#39;</span>
<span class="c1">#        i.e. x-y plot.  e.g. plot_type=&#39;scatter&#39; gives a scatter plot.</span>

    <span class="k">if</span> <span class="n">gs_index</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">gs_index</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>

<span class="c1">#    if plot_type is None:</span>
<span class="c1">#        plot_type = [&#39;plot&#39; for i in data]</span>
<span class="c1">#    elif len(plot_type) == 1:</span>
<span class="c1">#        plot_type = [plot_type[0] for i in data]</span>


    <span class="k">if</span> <span class="n">sharex</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">sharex</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">data</span><span class="p">]</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">sharex</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">sharex</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">sharex</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">data</span><span class="p">]</span>
        <span class="n">sharex</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="n">sharey</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">sharey</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">data</span><span class="p">]</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">sharey</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">sharey</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">sharey</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">data</span><span class="p">]</span>
        <span class="n">sharey</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">ax</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">subplot_data</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
        <span class="c1">#subplot_data is all [x,y,dict] for each subplot</span>
        <span class="n">j</span> <span class="o">=</span> <span class="n">gs_index</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">sharex</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">shx</span><span class="o">=</span><span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">shx</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="n">sharex</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>

        <span class="k">if</span> <span class="n">sharey</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">shy</span><span class="o">=</span><span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">shy</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="n">sharey</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="n">j</span><span class="p">]))</span>

        <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">xy_etc</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">subplot_data</span><span class="p">):</span>
            <span class="c1">#xy_etc is a single [x,y,dict] to send to plt.plot, or plt.plot_type</span>
            <span class="n">args_</span><span class="p">,</span> <span class="n">kwargs_</span> <span class="o">=</span> <span class="n">split_sequence_into_dict_and_nondicts</span><span class="p">(</span><span class="o">*</span><span class="n">xy_etc</span><span class="p">)</span>
            <span class="n">plot_type</span> <span class="o">=</span> <span class="n">kwargs_</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;plot_type&#39;</span><span class="p">,</span> <span class="s1">&#39;plot&#39;</span><span class="p">)</span>

            <span class="nb">getattr</span><span class="p">(</span><span class="n">ax</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">plot_type</span><span class="p">)(</span><span class="o">*</span><span class="n">args_</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs_</span><span class="p">)</span> <span class="c1">#http://stackoverflow.com/a/3071/2530083</span>





<span class="c1">#        if suplot_data is None:</span>
<span class="c1">#            ax[-1].plot()</span>
<span class="c1">##            getattr(ax[-1], plot_type[i])()</span>
<span class="c1">##            ax[-1].axis(&#39;off&#39;)#removes axes instance</span>
<span class="c1">#            ax[-1].set_axis_bgcolor(&#39;none&#39;)</span>
<span class="c1">#            ax[-1].set_frame_on(False)</span>
<span class="c1">#            ax[-1].get_xaxis().set_ticks([])#http://stackoverflow.com/a/2176591/2530083</span>
<span class="c1">#            ax[-1].get_yaxis().set_ticks([])</span>
<span class="c1">#        else:</span>
<span class="c1">#</span>
<span class="c1">##        ax[-1].set_ylabel(i) #use for debugging</span>
    <span class="k">return</span> <span class="n">ax</span></div>

<div class="viewcode-block" id="apply_dict_to_object"><a class="viewcode-back" href="../../../api/geotecha.plotting.one_d.html#geotecha.plotting.one_d.apply_dict_to_object">[docs]</a><span class="k">def</span> <span class="nf">apply_dict_to_object</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">dic</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Apply a dict of properties to a matplotlib object.</span>

<span class="sd">    Note the object must support set_&lt;property_name&gt; methods</span>
<span class="sd">    If obj and d are lists then the each `dic` will be applied to the</span>
<span class="sd">    corresponding `obj`.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    obj : matplotlib object or list of</span>
<span class="sd">        Object to set properties in.  Typically a matplotlib.lines.Line2D</span>
<span class="sd">        instance.</span>
<span class="sd">    dic : dict or list of dict</span>
<span class="sd">        A dictionary or properties to apply to the object. e.g for a</span>
<span class="sd">        matplotlib.lines.Line2D dict keys might be &#39;marker&#39;, or</span>
<span class="sd">        &#39;linestyle&#39; etc.  i.e any kwarg you would pass to plt.plot.</span>
<span class="sd">        Note that if a key in dic does not correspond to a obj.set_key</span>
<span class="sd">        method then it will be ignored.</span>


<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="p">[</span><span class="n">obj</span><span class="p">]</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dic</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="n">dic</span> <span class="o">=</span> <span class="p">[</span><span class="n">dic</span><span class="p">]</span>


    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span><span class="o">!=</span><span class="nb">len</span><span class="p">(</span><span class="n">dic</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;obj and d must be the same lenght. </span><span class="si">{}</span><span class="s1"> vs &#39;</span>
        <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">obj</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">dic</span><span class="p">)))</span>

    <span class="k">for</span> <span class="n">o</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">dic</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">d</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;set_</span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
                <span class="nb">getattr</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">s</span><span class="p">)(</span><span class="n">value</span><span class="p">)</span>

    <span class="k">return</span></div>

<div class="viewcode-block" id="plot_generic_loads"><a class="viewcode-back" href="../../../api/geotecha.plotting.one_d.html#geotecha.plotting.one_d.plot_generic_loads">[docs]</a><span class="k">def</span> <span class="nf">plot_generic_loads</span><span class="p">(</span><span class="n">load_triples</span><span class="p">,</span> <span class="n">load_names</span><span class="p">,</span> <span class="n">ylabels</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">trange</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">H</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">RLzero</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">prop_dict</span><span class="o">=</span><span class="p">{}):</span>
    <span class="sd">&quot;&quot;&quot;Plot loads that come in load_vs_time-load_vs_depth-omega_phase form</span>

<span class="sd">    For each load_triple (i.e. each load type) two plots will be made</span>
<span class="sd">    side by side: a load_vs_time plot; and a load_vs_depth plot. the</span>
<span class="sd">    different load types will appear one under the other.</span>

<span class="sd">    ::</span>
<span class="sd">        Load Magnitude                 Depth</span>
<span class="sd">        ^                              ^</span>
<span class="sd">        |           .....               |     *</span>
<span class="sd">        |          .                    |    *</span>
<span class="sd">        |   . . . .                     |   *</span>
<span class="sd">        |  .                            |   *</span>
<span class="sd">        | .                             |    *</span>
<span class="sd">        ---------------------&gt;Time     ---------&gt;Load factor</span>


<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    load_triples : list of list of 3 element tuples</span>
<span class="sd">        (load_vs_time, load_vs_depth, load_omega_phase) PolyLines.</span>
<span class="sd">        load_triples[i] will be a list of load triples for the ith plot</span>
<span class="sd">        load_triples[i][j] will be the jth load triple for the ith plot.</span>
<span class="sd">        The load_vs_depth can also be a two element tuple containing a</span>
<span class="sd">        list/array of depth values and a list/array of load values.</span>
<span class="sd">        The load_vs_time can also be a two element tuple containing a</span>
<span class="sd">        list/array of time values and a list/array of load values.</span>
<span class="sd">    load_names : list of string</span>
<span class="sd">        string to prepend to legend entries for each load</span>
<span class="sd">    ylabels : list of string, optional</span>
<span class="sd">        y labels for each of the axes, Default ylabels=None</span>
<span class="sd">        i.e. y0, y1, y2 etc.</span>
<span class="sd">    trange : 2 element tuple, optional</span>
<span class="sd">        (tmin, tmax) max and min times to plot loads for. Default trange=None</span>
<span class="sd">        i.e. t limits will be worked out from data.</span>
<span class="sd">    H : float, optional</span>
<span class="sd">        Height of soil profile.  Default H=1.0.  Used to transform</span>
<span class="sd">        normalised depth to actual depth.</span>
<span class="sd">    RLzero : float, optional</span>
<span class="sd">        Reduced level of the top of the soil layer.  If RLzero is not None</span>
<span class="sd">        then all depths (in plots and results) will be transformed to an</span>
<span class="sd">        RL by RL = RLzero - z*H.  If RLzero is None (i.e. the default)</span>
<span class="sd">        then all actual depths will be reported z*H (i.e. positive numbers).</span>
<span class="sd">    prop_dict : dict of dict, optional</span>
<span class="sd">        Dictionary containing certain properties used to set various plot</span>
<span class="sd">        options.</span>

<span class="sd">        ==================  ============================================</span>
<span class="sd">        prop_dict option    description</span>
<span class="sd">        ==================  ============================================</span>
<span class="sd">        fig_prop            dict of prop to pass to plt.figure.</span>
<span class="sd">                            Defaults include:</span>
<span class="sd">                            figsize=(7.05, 1.57 * no.of.loads)</span>
<span class="sd">        styles              List of dict.  Each dict is for one line.</span>
<span class="sd">                            Each dict contains kwargs for plt.plot.</span>
<span class="sd">                            SeeMarkersDashesColors. Defaults give black</span>
<span class="sd">                            and white markersize 5.</span>
<span class="sd">        time_axis_label     Label for x axis in load_vs_time plots.</span>
<span class="sd">                            Default=&#39;Time&#39;</span>
<span class="sd">        depth_axis_label    Label for y axis in load_vs_depth plot</span>
<span class="sd">                            Default=&quot;Depth, z&quot; or &quot;RL&quot; depending on</span>
<span class="sd">                            RLzero.</span>
<span class="sd">        has_legend          True or False. Default = True.</span>
<span class="sd">        legend_prop         dict of prop to pass to ax.legend.</span>
<span class="sd">                            Defaults include:</span>
<span class="sd">                            title=&#39;Load&#39;</span>
<span class="sd">                            fontsize=9</span>
<span class="sd">        ==================  ============================================</span>


<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    fig : matplolib.Figure</span>
<span class="sd">        Figure with plots.</span>


<span class="sd">    &quot;&quot;&quot;</span>


    <span class="n">fig_prop</span> <span class="o">=</span> <span class="n">copy_dict</span><span class="p">({</span><span class="s1">&#39;figsize&#39;</span><span class="p">:(</span><span class="mi">18</span><span class="o">/</span><span class="mf">2.54</span><span class="p">,</span> <span class="p">(</span><span class="mi">18</span><span class="o">/</span><span class="mf">1.61</span><span class="o">/</span><span class="mf">2.54</span><span class="p">)</span><span class="o">/</span> <span class="mf">2.8</span> <span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">load_triples</span><span class="p">))},</span>
                          <span class="n">prop_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fig_prop&#39;</span><span class="p">,</span> <span class="p">{}))</span>
<span class="c1">#    fig_prop = prop_dict.get(&#39;fig_prop&#39;, {&#39;figsize&#39;:(18/2.54, (18/1.61/2.54)/ 2.8 *len(load_triples)) })</span>
    <span class="n">legend_prop</span> <span class="o">=</span> <span class="n">copy_dict</span><span class="p">({</span><span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;Load:&#39;</span><span class="p">,</span> <span class="s1">&#39;fontsize&#39;</span><span class="p">:</span> <span class="mi">9</span><span class="p">},</span>
                            <span class="n">prop_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;legend_prop&#39;</span><span class="p">,{}))</span>
<span class="c1">#    legend_prop = prop_dict.get(&#39;legend_prop&#39;,</span>
<span class="c1">#                               {&#39;title&#39;: &#39;Load:&#39;, &#39;fontsize&#39;: 9})</span>

    <span class="n">styles</span> <span class="o">=</span> <span class="n">prop_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;styles&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">styles</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">mcd</span> <span class="o">=</span> <span class="n">MarkersDashesColors</span><span class="p">(</span>
            <span class="c1">#color = &#39;black&#39;,</span>
            <span class="n">markersize</span><span class="o">=</span> <span class="mi">7</span><span class="p">)</span>
        <span class="n">mcd</span><span class="o">.</span><span class="n">construct_styles</span><span class="p">(</span><span class="n">markers</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">32</span><span class="p">)),</span> <span class="n">dashes</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                             <span class="n">marker_colors</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">line_colors</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>


        <span class="n">styles</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">(</span><span class="n">mcd</span><span class="o">.</span><span class="n">styles</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">styles</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">(</span><span class="n">styles</span><span class="p">)</span>

    <span class="n">has_legend</span> <span class="o">=</span> <span class="n">prop_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;has_legend&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">xlabel1</span> <span class="o">=</span> <span class="n">prop_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;time_axis_label&#39;</span><span class="p">,</span> <span class="s1">&#39;Time&#39;</span><span class="p">)</span>
    <span class="n">xlabel2</span> <span class="o">=</span> <span class="n">prop_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;depth_axis_label&#39;</span><span class="p">,</span> <span class="s1">&#39;Load factor&#39;</span><span class="p">)</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">load_triples</span><span class="p">)</span>

    <span class="n">gs</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">gridspec</span><span class="o">.</span><span class="n">GridSpec</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">width_ratios</span><span class="o">=</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="o">**</span><span class="n">fig_prop</span><span class="p">)</span>

    <span class="c1">#plt.subplot(gs[0])</span>

    <span class="k">if</span> <span class="n">ylabels</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">ylabels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;y</span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>

    <span class="c1">#determine tmax, tmin</span>
    <span class="k">if</span> <span class="n">trange</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">triples</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">ylabel</span><span class="p">)</span>  <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">load_triples</span><span class="p">,</span> <span class="n">load_names</span><span class="p">,</span> <span class="n">ylabels</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="p">(</span><span class="n">vs_time</span><span class="p">,</span> <span class="n">vs_depth</span><span class="p">,</span> <span class="n">omega_phase</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">triples</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="mi">0</span> <span class="ow">and</span> <span class="n">j</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
                    <span class="n">tmin</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">vs_time</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
                    <span class="n">tmax</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">vs_time</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">tmin</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">tmin</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">vs_time</span><span class="o">.</span><span class="n">x</span><span class="p">))</span>
                    <span class="n">tmax</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">tmax</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">vs_time</span><span class="o">.</span><span class="n">x</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">tmin</span><span class="p">,</span> <span class="n">tmax</span> <span class="o">=</span> <span class="n">trange</span>





    <span class="n">ax1</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">ax2</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">triples</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">ylabel</span><span class="p">)</span>  <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">load_triples</span><span class="p">,</span> <span class="n">load_names</span><span class="p">,</span> <span class="n">ylabels</span><span class="p">)):</span>

        <span class="n">sharex1</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">sharex2</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">sharey1</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">sharey2</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">sharex1</span> <span class="o">=</span> <span class="n">ax1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">sharex2</span> <span class="o">=</span> <span class="n">ax2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">sharey1</span> <span class="o">=</span> <span class="n">ax1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">sharey2</span> <span class="o">=</span> <span class="n">ax2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">ax1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">sharex</span><span class="o">=</span><span class="n">sharex1</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="n">sharey1</span><span class="p">))</span>
        <span class="n">ax2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">sharex</span><span class="o">=</span><span class="n">sharex2</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="n">sharey2</span> <span class="p">))</span>

        <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="p">(</span><span class="n">vs_time</span><span class="p">,</span> <span class="n">vs_depth</span><span class="p">,</span> <span class="n">omega_phase</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">triples</span><span class="p">):</span>
            <span class="n">style</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">styles</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">vs_time</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="c1">#allow for fixed ppress</span>
                <span class="n">vs_time</span> <span class="o">=</span> <span class="n">PolyLine</span><span class="p">([</span><span class="n">tmin</span><span class="p">,</span> <span class="n">tmax</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">vs_time</span><span class="p">,</span> <span class="n">PolyLine</span><span class="p">):</span>
                <span class="n">x_</span><span class="p">,</span> <span class="n">y_</span> <span class="o">=</span><span class="n">vs_time</span>
                <span class="n">vs_time</span> <span class="o">=</span> <span class="n">PolyLine</span><span class="p">(</span><span class="n">x_</span><span class="p">,</span><span class="n">y_</span><span class="p">)</span>


            <span class="n">dx</span> <span class="o">=</span> <span class="p">(</span><span class="n">tmax</span><span class="o">-</span><span class="n">tmin</span><span class="p">)</span><span class="o">/</span><span class="mf">20.0</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">omega_phase</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">omega</span><span class="p">,</span> <span class="n">phase</span> <span class="o">=</span> <span class="n">omega_phase</span>
                <span class="n">dx</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">dx</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">omega</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">))</span><span class="o">/</span><span class="mi">40</span><span class="p">)</span>


<span class="c1">#                print(dx, omega)</span>

<span class="c1">#            x = [np.linspace(x1, x2, max(int((x2-x1)//dx), 4)) for</span>
<span class="c1">#                    (x1, x2, y1, y2) in zip(vs_time.x[:-1], vs_time.x[1:], vs_time.y[:-1], vs_time.y[1:])]</span>
<span class="c1">#                    #if abs(y2-y1) &gt; 1e-5 and abs(x2-x1) &gt; 1e-5]</span>
<span class="c1">#</span>
<span class="c1">#            y = [np.linspace(y1, y2, max(int((x2-x1)//dx), 4)) for</span>
<span class="c1">#                    (x1, x2, y1, y2) in zip(vs_time.x[:-1], vs_time.x[1:], vs_time.y[:-1], vs_time.y[1:])]</span>
<span class="c1">#                    #if abs(y2-y1) &gt; 1e-5 and abs(x2-x1) &gt; 1e-5]</span>
<span class="c1">#</span>
<span class="c1">#            x = np.array([val for subl in x for val in subl])</span>
<span class="c1">#            y = np.array([val for subl in y for val in subl])</span>
            <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">pwise</span><span class="o">.</span><span class="n">subdivide_x_y_into_segments</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">vs_time</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">vs_time</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">dx</span><span class="o">=</span><span class="n">dx</span><span class="p">,</span> <span class="n">min_segments</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">omega_phase</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">y</span> <span class="o">*=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">omega</span> <span class="o">*</span> <span class="n">x</span> <span class="o">+</span> <span class="n">phase</span><span class="p">)</span>




            <span class="n">linename</span> <span class="o">=</span> <span class="n">name</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>

<span class="c1">#            ax1[-1].plot(x, y, label=linename, markevery=markevery, **style)</span>
            <span class="n">ax1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">linename</span><span class="p">,</span> <span class="o">**</span><span class="n">style</span><span class="p">)</span>
            <span class="n">apply_markevery_to_sequence_of_lines</span><span class="p">(</span><span class="n">ax1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">get_lines</span><span class="p">(),</span>
                                         <span class="n">markevery</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
                                         <span class="n">random_start</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c1">#            try:</span>
<span class="c1">#                random.seed(1)</span>
<span class="c1">#                [apply_dict_to_object(line, d)</span>
<span class="c1">#                    for line, d in</span>
<span class="c1">#                        zip(ax1[-1].get_lines(),</span>
<span class="c1">#                            [{&#39;markevery&#39;: (random.random()* 0.1, 0.1)} for v in ax1[-1].get_lines()])]</span>
<span class="c1">#            except ValueError:</span>
<span class="c1">#                pass</span>
            <span class="c1">#TODO: add some more points in the z direction, account for when only one point</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">vs_depth</span><span class="p">,</span> <span class="n">PolyLine</span><span class="p">):</span>
                <span class="n">dx</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">vs_depth</span><span class="o">.</span><span class="n">x</span><span class="p">)</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">vs_depth</span><span class="o">.</span><span class="n">x</span><span class="p">))</span><span class="o">/</span><span class="mi">8</span>

<span class="c1">#                x = [np.linspace(x1, x2, max(int((x2-x1)//dx), 4)) for</span>
<span class="c1">#                        (x1, x2, y1, y2) in zip(vs_depth.x[:-1], vs_depth.x[1:], vs_depth.y[:-1], vs_depth.y[1:])]</span>
<span class="c1">#                        #if abs(y2-y1) &gt; 1e-5 and abs(x2-x1) &gt; 1e-5]</span>
<span class="c1">#</span>
<span class="c1">#                y = [np.linspace(y1, y2, max(int((x2-x1)//dx), 4)) for</span>
<span class="c1">#                        (x1, x2, y1, y2) in zip(vs_depth.x[:-1], vs_depth.x[1:], vs_depth.y[:-1], vs_depth.y[1:])]</span>
<span class="c1">#</span>
<span class="c1">#                x = np.array([val for subl in x for val in subl])</span>
<span class="c1">#                y = np.array([val for subl in y for val in subl])</span>
                <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">pwise</span><span class="o">.</span><span class="n">subdivide_x_y_into_segments</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">vs_depth</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">vs_depth</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">dx</span><span class="o">=</span><span class="n">dx</span><span class="p">,</span> <span class="n">min_segments</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span> <span class="c1"># assume a tuple of x and y values</span>
                    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">vs_depth</span>
                    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">atleast_1d</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
                    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">atleast_1d</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
            <span class="n">z</span> <span class="o">=</span> <span class="n">transformations</span><span class="o">.</span><span class="n">depth_to_reduced_level</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">RLzero</span><span class="p">)</span>
            <span class="n">ax2</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">linename</span><span class="p">,</span> <span class="o">**</span><span class="n">style</span><span class="p">)</span>



        <span class="c1">#load_vs_time plot stuff</span>

        <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="nb">len</span><span class="p">(</span><span class="n">load_triples</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">ax1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">xlabel1</span><span class="p">)</span>
        <span class="n">ax1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">ylabel</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">trange</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ax1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">((</span><span class="n">tmin</span><span class="p">,</span> <span class="n">tmax</span><span class="p">))</span>



        <span class="k">if</span> <span class="n">has_legend</span><span class="p">:</span>
            <span class="n">leg</span> <span class="o">=</span> <span class="n">ax1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="o">**</span><span class="n">legend_prop</span><span class="p">)</span>
            <span class="n">leg</span><span class="o">.</span><span class="n">draggable</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="n">leg</span><span class="o">.</span><span class="n">get_title</span><span class="p">(),</span><span class="n">fontsize</span><span class="o">=</span><span class="n">legend_prop</span><span class="p">[</span><span class="s1">&#39;fontsize&#39;</span><span class="p">])</span>
        <span class="c1">#load_vs_depth plot stuff</span>

        <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="nb">len</span><span class="p">(</span><span class="n">load_triples</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">ax2</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">xlabel2</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">RLzero</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ax2</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">invert_yaxis</span><span class="p">()</span>
            <span class="n">ylabel</span> <span class="o">=</span> <span class="n">prop_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;depth_axis_label&#39;</span><span class="p">,</span> <span class="s1">&#39;Depth, z&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ylabel</span> <span class="o">=</span> <span class="n">prop_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;depth_axis_label&#39;</span><span class="p">,</span> <span class="s1">&#39;RL&#39;</span><span class="p">)</span>

        <span class="n">ax2</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">ylabel</span><span class="p">)</span>
        <span class="n">ax2</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mf">1.01</span><span class="p">))</span>
        <span class="n">ax2</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>

        <span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">fig</span></div>


<div class="viewcode-block" id="plot_vs_time"><a class="viewcode-back" href="../../../api/geotecha.plotting.one_d.html#geotecha.plotting.one_d.plot_vs_time">[docs]</a><span class="k">def</span> <span class="nf">plot_vs_time</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">line_labels</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">prop_dict</span><span class="o">=</span><span class="p">{}):</span>
    <span class="sd">&quot;&quot;&quot;Plot y vs t with some options</span>

<span class="sd">    Originally used for plotting things like average excess pore pressure</span>
<span class="sd">    vs time.</span>

<span class="sd">    ::</span>

<span class="sd">        y</span>
<span class="sd">        ^</span>
<span class="sd">        |           .......</span>
<span class="sd">        |          .</span>
<span class="sd">        |   . . . .  ***</span>
<span class="sd">        |  . *      *   *</span>
<span class="sd">        | .*   *****</span>
<span class="sd">        ---------------------&gt;Time</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    t : np.array</span>
<span class="sd">        Time values.</span>
<span class="sd">    y :  one or two dimensional ndarray</span>
<span class="sd">        y values to plot.  basically plt.plot(t,y) will be used.</span>
<span class="sd">    line_labels : list of string, optional</span>
<span class="sd">        Label for each line in y.  Defaultline_labels=None, i.e. no labels.</span>
<span class="sd">    prop_dict : dict of dict, optional</span>
<span class="sd">        Dictionary containing certain properties used to set various plot</span>
<span class="sd">        options.</span>

<span class="sd">        ==================  ============================================</span>
<span class="sd">        prop_dict option    description</span>
<span class="sd">        ==================  ============================================</span>
<span class="sd">        fig_prop            dict of prop to pass to plt.figure.</span>
<span class="sd">                            Defaults include:</span>
<span class="sd">                            figsize=(7.05, 4.4)</span>
<span class="sd">        styles              List of dict.  Each dict is for one line.</span>
<span class="sd">                            Each dict contains kwargs for plt.plot</span>
<span class="sd">                            See</span>
<span class="sd">                            MarkersDashesColors</span>
<span class="sd">                            defaults give black and white markersize 5</span>
<span class="sd">        xlabel              x-axis label. default=&#39;Time&#39;.</span>
<span class="sd">        ylabel              y-axis label. default = &#39;y&#39;.</span>
<span class="sd">        has_legend          True or False. default = True.</span>
<span class="sd">        legend_prop         dict of prop to pass to ax.legend</span>
<span class="sd">                            Defaults include:</span>
<span class="sd">                            title=&#39;Depth interval&#39;</span>
<span class="sd">                            fontsize=9</span>
<span class="sd">        ==================  ============================================</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    fig : matplolib.Figure</span>
<span class="sd">        Figure with plots.</span>


<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">fig_prop</span> <span class="o">=</span> <span class="n">copy_dict</span><span class="p">({</span><span class="s1">&#39;figsize&#39;</span><span class="p">:(</span><span class="mi">18</span><span class="o">/</span><span class="mf">2.54</span><span class="p">,</span> <span class="mi">18</span><span class="o">/</span><span class="mf">1.61</span><span class="o">/</span><span class="mf">2.54</span><span class="p">)},</span>
                          <span class="n">prop_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fig_prop&#39;</span><span class="p">,</span> <span class="p">{}))</span>

<span class="c1">#    fig_prop = prop_dict.get(&#39;fig_prop&#39;, {&#39;figsize&#39;:(18/2.54, 18/1.61/2.54)})</span>

    <span class="n">legend_prop</span> <span class="o">=</span> <span class="n">copy_dict</span><span class="p">({</span><span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;Depth interval:&#39;</span><span class="p">,</span> <span class="s1">&#39;fontsize&#39;</span><span class="p">:</span> <span class="mi">9</span><span class="p">},</span>
                            <span class="n">prop_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;legend_prop&#39;</span><span class="p">,{}))</span>

<span class="c1">#    legend_prop = prop_dict.get(&#39;legend_prop&#39;,</span>
<span class="c1">#                               {&#39;title&#39;: &#39;Depth interval:&#39;, &#39;fontsize&#39;: 9})</span>

    <span class="n">styles</span> <span class="o">=</span> <span class="n">prop_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;styles&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">styles</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">mcd</span> <span class="o">=</span> <span class="n">MarkersDashesColors</span><span class="p">(</span>
            <span class="c1">#color = &#39;black&#39;,</span>
            <span class="n">markersize</span><span class="o">=</span> <span class="mi">7</span><span class="p">)</span>
        <span class="n">mcd</span><span class="o">.</span><span class="n">construct_styles</span><span class="p">(</span><span class="n">markers</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">32</span><span class="p">)),</span> <span class="n">dashes</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                             <span class="n">marker_colors</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">line_colors</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>


        <span class="n">styles</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">(</span><span class="n">mcd</span><span class="o">.</span><span class="n">styles</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">styles</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">(</span><span class="n">styles</span><span class="p">)</span>



    <span class="c1">#z = transformations.depth_to_reduced_level(z, H, RLzero)</span>

    <span class="c1">#t = self.tvals[self.ppress_z_tval_indexes]</span>


    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="o">**</span><span class="n">fig_prop</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

    <span class="n">xlabel</span> <span class="o">=</span> <span class="n">prop_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;xlabel&#39;</span><span class="p">,</span> <span class="s1">&#39;Time, t&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="n">xlabel</span><span class="p">)</span>
    <span class="n">ylabel</span> <span class="o">=</span> <span class="n">prop_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;ylabel&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="n">ylabel</span><span class="p">)</span>

    <span class="c1">#apply style to each line</span>
    <span class="p">[</span><span class="n">apply_dict_to_object</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">line</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">fig</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">get_lines</span><span class="p">(),</span> <span class="n">styles</span><span class="p">)]</span>
    <span class="c1">#apply markevery to each line</span>
    <span class="n">apply_markevery_to_sequence_of_lines</span><span class="p">(</span><span class="n">fig</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">get_lines</span><span class="p">(),</span>
                                         <span class="n">markevery</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
                                         <span class="n">random_start</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c1">#    try:</span>
<span class="c1">#        random.seed(1)</span>
<span class="c1">#        [apply_dict_to_object(line, d)</span>
<span class="c1">#            for line, d in</span>
<span class="c1">#                zip(fig.gca().get_lines(),</span>
<span class="c1">#                    [{&#39;markevery&#39;: (random.random()* 0.1, 0.1)} for v in y])]</span>
<span class="c1">#    except ValueError:</span>
<span class="c1">#        pass</span>

    <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">line_labels</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">):</span>
        <span class="n">labels</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="n">v</span><span class="p">}</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">line_labels</span><span class="p">]</span>
        <span class="p">[</span><span class="n">apply_dict_to_object</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">line</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">fig</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">get_lines</span><span class="p">(),</span> <span class="n">labels</span><span class="p">)]</span>
        <span class="n">has_legend</span> <span class="o">=</span> <span class="n">prop_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;has_legend&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">has_legend</span><span class="o">=</span><span class="kc">False</span>

    <span class="k">if</span> <span class="n">has_legend</span><span class="p">:</span>
        <span class="n">leg</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="o">**</span><span class="n">legend_prop</span><span class="p">)</span>
        <span class="n">leg</span><span class="o">.</span><span class="n">draggable</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="n">leg</span><span class="o">.</span><span class="n">get_title</span><span class="p">(),</span><span class="n">fontsize</span><span class="o">=</span><span class="n">legend_prop</span><span class="p">[</span><span class="s1">&#39;fontsize&#39;</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">fig</span></div>


<div class="viewcode-block" id="plot_single_material_vs_depth"><a class="viewcode-back" href="../../../api/geotecha.plotting.one_d.html#geotecha.plotting.one_d.plot_single_material_vs_depth">[docs]</a><span class="k">def</span> <span class="nf">plot_single_material_vs_depth</span><span class="p">(</span><span class="n">z_x</span><span class="p">,</span> <span class="n">xlabels</span><span class="p">,</span> <span class="n">H</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">RLzero</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                    <span class="n">prop_dict</span><span class="o">=</span><span class="p">{}):</span>
    <span class="sd">&quot;&quot;&quot;Plot side by side property vs depth graphs</span>

<span class="sd">    ::</span>

<span class="sd">        x1           x2           x3</span>
<span class="sd">        -----------&gt; -----------&gt; ------------&gt;</span>
<span class="sd">        |     .      |   .        |   .        |</span>
<span class="sd">        |     .      |    .       |  .         |</span>
<span class="sd">        |     .      |     .      |  .         |</span>
<span class="sd">        |    .       |      .     |    .       |</span>
<span class="sd">        |   .        |      .     |      .     |</span>
<span class="sd">        |  .         |      .     |        .   |</span>
<span class="sd">        v            v            v</span>
<span class="sd">        depth</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    z_x : list of PolyLine</span>
<span class="sd">        List of value_vs_depth PolyLines.</span>
<span class="sd">    xlabels : list of string</span>
<span class="sd">        List of x-axis labels.</span>
<span class="sd">    H : float, optional</span>
<span class="sd">        Height of soil profile.  Default H=1.0.  Used to transform</span>
<span class="sd">        normalised depth to actual depth.</span>
<span class="sd">    RLzero : float, optional</span>
<span class="sd">        Reduced level of the top of the soil layer.  If RLzero is not None</span>
<span class="sd">        then all depths (in plots and results) will be transformed to an</span>
<span class="sd">        RL by RL = RLzero - z*H.  If RLzero is None (i.e. the default)</span>
<span class="sd">        then all depths will be reported  z*H (i.e. positive numbers).</span>
<span class="sd">    prop_dict : dict of dict, optional</span>
<span class="sd">        Dictionary containing certain properties used to set various plot</span>
<span class="sd">        options:</span>

<span class="sd">        ==================  ============================================</span>
<span class="sd">        prop_dict option    description</span>
<span class="sd">        ==================  ============================================</span>
<span class="sd">        fig_prop            dict of prop to pass to plt.figure.</span>
<span class="sd">                            defaults include:</span>
<span class="sd">                            figsize=(7.05, 4.4)</span>
<span class="sd">        styles              List of dict.  Each dict is for one line.</span>
<span class="sd">                            Each dict contains kwargs for plt.plot</span>
<span class="sd">                            See</span>
<span class="sd">                            MarkersDashesColors</span>
<span class="sd">                            defaults give black and white markersize 5</span>
<span class="sd">        xlabel              x-axis label. default = &#39;Time&#39;</span>
<span class="sd">        ylabel              y-axis label. default = &#39;Depth, z&#39; or &#39;RL&#39;</span>
<span class="sd">                            depending on RLzero.</span>
<span class="sd">        ==================  ============================================</span>


<span class="sd">    &quot;&quot;&quot;</span>


    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">z_x</span><span class="p">)</span>

    <span class="n">fig_prop</span> <span class="o">=</span> <span class="n">copy_dict</span><span class="p">({</span><span class="s1">&#39;figsize&#39;</span><span class="p">:(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">n</span><span class="p">,</span> <span class="mi">18</span><span class="o">/</span><span class="mf">1.61</span><span class="o">/</span><span class="mf">2.54</span><span class="p">)},</span>
                          <span class="n">prop_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fig_prop&#39;</span><span class="p">,</span> <span class="p">{}))</span>

<span class="c1">#    fig_prop = prop_dict.get(&#39;fig_prop&#39;, {&#39;figsize&#39;:(2 * n, 18/1.61/2.54)})</span>

    <span class="n">styles</span> <span class="o">=</span> <span class="n">prop_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;styles&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">styles</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">mcd</span> <span class="o">=</span> <span class="n">MarkersDashesColors</span><span class="p">(</span>
            <span class="c1">#color = &#39;black&#39;,</span>
            <span class="n">markersize</span><span class="o">=</span> <span class="mi">7</span><span class="p">)</span>
        <span class="n">mcd</span><span class="o">.</span><span class="n">construct_styles</span><span class="p">(</span><span class="n">markers</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">32</span><span class="p">)),</span> <span class="n">dashes</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                             <span class="n">marker_colors</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">line_colors</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>


        <span class="n">styles</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">(</span><span class="n">mcd</span><span class="o">.</span><span class="n">styles</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">styles</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">(</span><span class="n">styles</span><span class="p">)</span>


    <span class="n">gs</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">gridspec</span><span class="o">.</span><span class="n">GridSpec</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">,</span> <span class="n">width_ratios</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">wspace</span><span class="o">=</span><span class="mf">0.13</span><span class="p">)</span>
    <span class="n">gs</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.98</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>  <span class="n">top</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="o">**</span><span class="n">fig_prop</span><span class="p">)</span>

    <span class="n">ax1</span><span class="o">=</span><span class="p">[]</span>
    <span class="n">style</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">styles</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">vs_depth</span><span class="p">,</span> <span class="n">xlabel</span><span class="p">)</span>  <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">z_x</span><span class="p">,</span> <span class="n">xlabels</span><span class="p">)):</span>


        <span class="n">sharey1</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span> <span class="c1">#share the y axis</span>
            <span class="n">sharex1</span> <span class="o">=</span> <span class="n">ax1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">sharey1</span> <span class="o">=</span> <span class="n">ax1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">ax1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">sharey</span><span class="o">=</span><span class="n">sharey1</span><span class="p">))</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">vs_depth</span><span class="p">,</span> <span class="n">PolyLine</span><span class="p">):</span>
            <span class="c1"># assume a tuple of x and y values</span>
            <span class="n">x_</span><span class="p">,</span> <span class="n">y_</span> <span class="o">=</span><span class="n">vs_depth</span>
            <span class="n">vs_depth</span> <span class="o">=</span> <span class="n">PolyLine</span><span class="p">(</span><span class="n">x_</span><span class="p">,</span><span class="n">y_</span><span class="p">)</span>

        <span class="n">dx</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">vs_depth</span><span class="o">.</span><span class="n">x</span><span class="p">)</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">vs_depth</span><span class="o">.</span><span class="n">x</span><span class="p">))</span> <span class="o">/</span> <span class="mi">8</span>
<span class="c1">#</span>
<span class="c1">#        x = [np.linspace(x1, x2, max(int((x2-x1)//dx), 4)) for</span>
<span class="c1">#                (x1, x2, y1, y2) in zip(vs_depth.x[:-1], vs_depth.x[1:], vs_depth.y[:-1], vs_depth.y[1:])]</span>
<span class="c1">#                #if abs(y2-y1) &gt; 1e-5 and abs(x2-x1) &gt; 1e-5]</span>
<span class="c1">#</span>
<span class="c1">#        y = [np.linspace(y1, y2, max(int((x2-x1)//dx), 4)) for</span>
<span class="c1">#                (x1, x2, y1, y2) in zip(vs_depth.x[:-1], vs_depth.x[1:], vs_depth.y[:-1], vs_depth.y[1:])]</span>
<span class="c1">#</span>
<span class="c1">#        x = np.array([val for subl in x for val in subl])</span>
<span class="c1">#        y = np.array([val for subl in y for val in subl])</span>

        <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">pwise</span><span class="o">.</span><span class="n">subdivide_x_y_into_segments</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">vs_depth</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">vs_depth</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">dx</span><span class="o">=</span><span class="n">dx</span><span class="p">,</span> <span class="n">min_segments</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
        <span class="n">z</span> <span class="o">=</span> <span class="n">transformations</span><span class="o">.</span><span class="n">depth_to_reduced_level</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">RLzero</span><span class="p">)</span>
        <span class="n">ax1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="o">**</span><span class="n">style</span><span class="p">)</span>


        <span class="n">ax1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">xlabel</span><span class="p">,</span> <span class="n">multialignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>
        <span class="n">ax1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_label_position</span><span class="p">(</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
        <span class="n">ax1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">tick_top</span><span class="p">()</span>

        <span class="n">ax1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span> <span class="n">plt</span><span class="o">.</span><span class="n">MaxNLocator</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
        <span class="n">ax1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_minor_locator</span><span class="p">(</span> <span class="n">plt</span><span class="o">.</span><span class="n">AutoLocator</span><span class="p">())</span>
        <span class="n">cur_xlim</span> <span class="o">=</span> <span class="n">ax1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()</span>

        <span class="n">ax1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="n">cur_xlim</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>



        <span class="c1">#ax1[-1].xaxis.set_minor_locator(ml)</span>

        <span class="c1">#ax1[-1].set_xticks(ax1[-1].get_xticks()[1:])</span>




        <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1">#ax1[-1].yaxis.set_ticklabels([])</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="n">ax1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">get_yticklabels</span><span class="p">(),</span> <span class="n">visible</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>


    <span class="k">if</span> <span class="n">RLzero</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">invert_yaxis</span><span class="p">()</span>
        <span class="n">ylabel</span> <span class="o">=</span> <span class="n">prop_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;ylabel&#39;</span><span class="p">,</span> <span class="s1">&#39;Depth, z&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ylabel</span> <span class="o">=</span> <span class="n">prop_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;ylabel&#39;</span><span class="p">,</span> <span class="s1">&#39;RL&#39;</span><span class="p">)</span>
    <span class="n">ax1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">ylabel</span><span class="p">)</span>
    <span class="c1">#ax1[-1].yaxis.set_ticklabels([])</span>

    <span class="c1">#fig.tight_layout()</span>
    <span class="k">return</span> <span class="n">fig</span></div>


<div class="viewcode-block" id="apply_markevery_to_sequence_of_lines"><a class="viewcode-back" href="../../../api/geotecha.plotting.one_d.html#geotecha.plotting.one_d.apply_markevery_to_sequence_of_lines">[docs]</a><span class="k">def</span> <span class="nf">apply_markevery_to_sequence_of_lines</span><span class="p">(</span><span class="n">lines</span><span class="p">,</span> <span class="n">markevery</span><span class="o">=</span><span class="kc">None</span> <span class="p">,</span>
                                         <span class="n">random_start</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Apply `markevery` property to sequence of matplotlib lines</span>

<span class="sd">    Allows for a random start so that marker on different lines do not</span>
<span class="sd">    line up.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    lines : sequence of matplotlib lines</span>
<span class="sd">        Lines to apply markevery to.</span>
<span class="sd">    markevery : int or float, optional</span>
<span class="sd">        Value of markevery property. Default markevery=None, i.e.</span>
<span class="sd">        markevery will be turned off and all points will have markers.</span>
<span class="sd">    random_start : True/False</span>
<span class="sd">        If True then first marker shown will be random between start marker</span>
<span class="sd">        and the markevery property. Default random_start=True.</span>
<span class="sd">    seed : int, optional</span>
<span class="sd">        Random seed.  Default seed=None which does not specify the random seed.</span>


<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">import</span> <span class="nn">random</span>




    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">markevery</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">random_start</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">seed</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
            <span class="p">[</span><span class="n">apply_dict_to_object</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">line</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span>
                <span class="nb">zip</span><span class="p">(</span><span class="n">lines</span><span class="p">,[{</span><span class="s1">&#39;markevery&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">markevery</span><span class="p">),</span>
                                          <span class="n">markevery</span><span class="p">)}</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">])]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="p">[</span><span class="n">apply_dict_to_object</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">line</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">lines</span><span class="p">,[{</span><span class="s1">&#39;markevery&#39;</span><span class="p">:</span> <span class="n">markevery</span><span class="p">}</span> <span class="k">for</span>
            <span class="n">v</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">])]</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">markevery</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">matplotlib.lines</span> <span class="k">import</span> <span class="n">_mark_every_path</span>
            <span class="c1"># the above import should fail for matplotlib &lt;1.4.</span>
            <span class="c1"># However, since it was my addition to matplotlib I may have hardwired</span>
            <span class="c1"># all the markevery code it in to my own matplotlib.lines file.</span>

            <span class="k">if</span> <span class="n">random_start</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">seed</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
                <span class="p">[</span><span class="n">apply_dict_to_object</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">line</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span>
                    <span class="nb">zip</span><span class="p">(</span><span class="n">lines</span><span class="p">,[{</span><span class="s1">&#39;markevery&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="n">markevery</span><span class="p">,</span>
                                              <span class="n">markevery</span><span class="p">)}</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">])]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="p">[</span><span class="n">apply_dict_to_object</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">line</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">lines</span><span class="p">,[{</span><span class="s1">&#39;markevery&#39;</span><span class="p">:</span> <span class="n">markevery</span><span class="p">}</span> <span class="k">for</span>
                    <span class="n">v</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">])]</span>
        <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;markevery=float not available, markevery ignored&#39;</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="c1">#straight application of markevery</span>
        <span class="p">[</span><span class="n">apply_dict_to_object</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">line</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">lines</span><span class="p">,[{</span><span class="s1">&#39;markevery&#39;</span><span class="p">:</span> <span class="n">markevery</span><span class="p">}</span> <span class="k">for</span>
            <span class="n">v</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">])]</span></div>






<div class="viewcode-block" id="plot_vs_depth"><a class="viewcode-back" href="../../../api/geotecha.plotting.one_d.html#geotecha.plotting.one_d.plot_vs_depth">[docs]</a><span class="k">def</span> <span class="nf">plot_vs_depth</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">line_labels</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">H</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">RLzero</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                   <span class="n">prop_dict</span><span class="o">=</span><span class="p">{}):</span>
    <span class="sd">&quot;&quot;&quot;Plot z vs x for various t values</span>

<span class="sd">    Originally used for plotting things like excess pore pressure vs depth</span>


<span class="sd">    ::</span>

<span class="sd">        --------------------&gt; value</span>
<span class="sd">        |.*</span>
<span class="sd">        | .  *</span>
<span class="sd">        |  .    *</span>
<span class="sd">        |   .     *</span>
<span class="sd">        |  .    *</span>
<span class="sd">        | .  *</span>
<span class="sd">        v</span>
<span class="sd">        depth</span>


<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    x :  one or two dimensional ndarray</span>
<span class="sd">        y values to plot.  Basically plt.plot(t, y) will be used</span>
<span class="sd">    z : one d array of float</span>
<span class="sd">        Depth values.</span>
<span class="sd">    line_labels : list of string, optional</span>
<span class="sd">        Label for each line in y.  Default line_labels=None, i.e. no</span>
<span class="sd">        line labels.</span>
<span class="sd">    H : float, optional</span>
<span class="sd">        Height of soil profile.  Default H=1.0.  Used to transform</span>
<span class="sd">        normalised depth to actual depth.</span>
<span class="sd">    RLzero : float, optional</span>
<span class="sd">        Reduced level of the top of the soil layer.  If RLzero is not None</span>
<span class="sd">        then all depths (in plots and results) will be transformed to an</span>
<span class="sd">        RL by RL = RLzero - z*H.  If RLzero is None (i.e. the default)</span>
<span class="sd">        then actual depths will be reported  z*H (i.e. positive numbers).</span>
<span class="sd">    prop_dict : dict of dict, optional</span>
<span class="sd">        Dictionary containing certain properties used to set various plot</span>
<span class="sd">        options.</span>

<span class="sd">        ==================  ============================================</span>
<span class="sd">        prop_dict option    description</span>
<span class="sd">        ==================  ============================================</span>
<span class="sd">        fig_prop            dict of prop to pass to plt.figure.</span>
<span class="sd">                            defaults include:</span>
<span class="sd">                            figsize=(7.05, 4.4)</span>
<span class="sd">        styles              List of dict.  Each dict is for one line.</span>
<span class="sd">                            Each dict contains kwargs for plt.plot</span>
<span class="sd">                            See</span>
<span class="sd">                            MarkersDashesColors</span>
<span class="sd">                            defaults give black and white markersize 5</span>
<span class="sd">        xlabel              x-axis label. Default = &#39;x&#39;.</span>
<span class="sd">        ylabel              y-axis label. Default = &#39;Depth, z&#39; or &#39;RL&#39;.</span>
<span class="sd">                            depending on RLzero.</span>
<span class="sd">        has_legend          True or False. default is True</span>
<span class="sd">        legend_prop         dict of prop to pass to ax.legend</span>
<span class="sd">                            defaults include:</span>
<span class="sd">                            title=&#39;Depth interval&#39;</span>
<span class="sd">                            fontsize=9</span>
<span class="sd">        ==================  ============================================</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    fig : matplolib.Figure</span>
<span class="sd">        Figure with plots.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">fig_prop</span> <span class="o">=</span> <span class="n">copy_dict</span><span class="p">({</span><span class="s1">&#39;figsize&#39;</span><span class="p">:(</span><span class="mi">18</span><span class="o">/</span><span class="mf">2.54</span><span class="p">,</span> <span class="mi">18</span><span class="o">/</span><span class="mf">1.61</span><span class="o">/</span><span class="mf">2.54</span><span class="p">)},</span>
                          <span class="n">prop_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fig_prop&#39;</span><span class="p">,</span> <span class="p">{}))</span>

<span class="c1">#    fig_prop = prop_dict.get(&#39;fig_prop&#39;, {&#39;figsize&#39;:(18/2.54, 18/1.61/2.54)})</span>

    <span class="n">legend_prop</span> <span class="o">=</span> <span class="n">copy_dict</span><span class="p">({</span><span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;time:&#39;</span><span class="p">,</span> <span class="s1">&#39;fontsize&#39;</span><span class="p">:</span> <span class="mi">9</span><span class="p">},</span>
                            <span class="n">prop_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;legend_prop&#39;</span><span class="p">,</span> <span class="p">{}))</span>
<span class="c1">#    legend_prop = prop_dict.get(&#39;legend_prop&#39;,</span>
<span class="c1">#                               {&#39;title&#39;: &#39;time:&#39;, &#39;fontsize&#39;: 9})</span>

    <span class="n">styles</span> <span class="o">=</span> <span class="n">prop_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;styles&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">styles</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">mcd</span> <span class="o">=</span> <span class="n">MarkersDashesColors</span><span class="p">(</span>
            <span class="c1">#color = &#39;black&#39;,</span>
            <span class="n">markersize</span><span class="o">=</span> <span class="mi">7</span><span class="p">)</span>
        <span class="n">mcd</span><span class="o">.</span><span class="n">construct_styles</span><span class="p">(</span><span class="n">markers</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">32</span><span class="p">)),</span> <span class="n">dashes</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                             <span class="n">marker_colors</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">line_colors</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>


        <span class="n">styles</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">(</span><span class="n">mcd</span><span class="o">.</span><span class="n">styles</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">styles</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">(</span><span class="n">styles</span><span class="p">)</span>



    <span class="n">z</span> <span class="o">=</span> <span class="n">transformations</span><span class="o">.</span><span class="n">depth_to_reduced_level</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">RLzero</span><span class="p">)</span>

    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="o">**</span><span class="n">fig_prop</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>

    <span class="n">xlabel</span> <span class="o">=</span> <span class="n">prop_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;xlabel&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="n">xlabel</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">RLzero</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">invert_yaxis</span><span class="p">()</span>
        <span class="n">ylabel</span> <span class="o">=</span> <span class="n">prop_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;ylabel&#39;</span><span class="p">,</span> <span class="s1">&#39;Depth, z&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ylabel</span> <span class="o">=</span> <span class="n">prop_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;ylabel&#39;</span><span class="p">,</span> <span class="s1">&#39;RL&#39;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="n">ylabel</span><span class="p">)</span>

    <span class="c1">#apply style to each line</span>
    <span class="p">[</span><span class="n">apply_dict_to_object</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">line</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">fig</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">get_lines</span><span class="p">(),</span> <span class="n">styles</span><span class="p">)]</span>

    <span class="c1">#apply markevery to each line</span>
    <span class="n">apply_markevery_to_sequence_of_lines</span><span class="p">(</span><span class="n">fig</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">get_lines</span><span class="p">(),</span>
                                         <span class="n">markevery</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
                                         <span class="n">random_start</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c1">#    try:</span>
<span class="c1">#        from matplotlib.lines import _mark_every_path</span>
<span class="c1">#        # the above import should fail for matplotlib &lt;1.4.</span>
<span class="c1">#        # However, since it was my addition to matplotlib I may have hardwired</span>
<span class="c1">#        # all the markevery code it in to my own matplotlib.lines file.</span>
<span class="c1">#        random.seed(1)</span>
<span class="c1">#        [apply_dict_to_object(line, d)</span>
<span class="c1">#            for line, d in</span>
<span class="c1">#                zip(fig.gca().get_lines(),</span>
<span class="c1">#                    [{&#39;markevery&#39;: (random.random()* 0.1, 0.1)} for v in x])]</span>
<span class="c1">#    except ImportError:</span>
<span class="c1">#        pass</span>

    <span class="c1">#apply label to each line</span>
    <span class="c1">#line_labels = [{&#39;label&#39;: &#39;{:.3g}&#39;.format(v)} for v in t]</span>

    <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">line_labels</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">):</span>
        <span class="n">labels</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="n">v</span><span class="p">}</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">line_labels</span><span class="p">]</span>
        <span class="p">[</span><span class="n">apply_dict_to_object</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">line</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">fig</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">get_lines</span><span class="p">(),</span> <span class="n">labels</span><span class="p">)]</span>
        <span class="n">has_legend</span> <span class="o">=</span> <span class="n">prop_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;has_legend&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">has_legend</span><span class="o">=</span><span class="kc">False</span>

<span class="c1">#    [apply_dict_to_object(line, d)</span>
<span class="c1">#        for line, d in zip(fig.gca().get_lines(), line_labels)]</span>
<span class="c1">#</span>
<span class="c1">#    has_legend = prop_dict.get(&#39;has_legend&#39;, True)</span>

    <span class="k">if</span> <span class="n">has_legend</span><span class="p">:</span>
        <span class="n">leg</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="o">**</span><span class="n">legend_prop</span><span class="p">)</span>
        <span class="n">leg</span><span class="o">.</span><span class="n">draggable</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="n">leg</span><span class="o">.</span><span class="n">get_title</span><span class="p">(),</span><span class="n">fontsize</span><span class="o">=</span><span class="n">legend_prop</span><span class="p">[</span><span class="s1">&#39;fontsize&#39;</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">fig</span></div>

<div class="viewcode-block" id="save_figure"><a class="viewcode-back" href="../../../api/geotecha.plotting.one_d.html#geotecha.plotting.one_d.save_figure">[docs]</a><span class="k">def</span> <span class="nf">save_figure</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">fname</span><span class="o">=</span><span class="s1">&#39;fig&#39;</span><span class="p">,</span> <span class="n">ext</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;pdf&#39;</span><span class="p">,</span> <span class="s1">&#39;eps&#39;</span><span class="p">,</span> <span class="s1">&#39;png&#39;</span><span class="p">],</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">1200</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Save a figure to a file in multiple formats</span>

<span class="sd">    Figure will be saved in as fname.ext where ext is each of the extenstions</span>
<span class="sd">    in the ext parameter.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    fig : matplotlib.Figure object</span>
<span class="sd">        Figure to save</span>
<span class="sd">    fname : str, optional</span>
<span class="sd">        filepath to save to WITHOUT extension, default fname=&#39;fig&#39;.</span>
<span class="sd">    ext : list of str, optional</span>
<span class="sd">        List of file extensions to save.  Must be one of the matplolib</span>
<span class="sd">        save as file types.  default ext=[[&#39;pdf&#39;,&#39;eps&#39;,&#39;png&#39;].</span>
<span class="sd">    dpi : int, optional</span>
<span class="sd">        dpi setting to save png etc figures as. Default dpi=1200.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">for</span> <span class="n">ex</span> <span class="ow">in</span> <span class="n">ext</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">ex</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;png&#39;</span><span class="p">]:</span>
            <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;dpi&#39;</span><span class="p">:</span> <span class="n">dpi</span><span class="p">}</span>
            <span class="n">d</span><span class="p">[</span><span class="s1">&#39;dpi&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dpi</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">d</span><span class="o">=</span><span class="p">{}</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">.</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="n">ex</span><span class="p">),</span> <span class="nb">format</span><span class="o">=</span><span class="n">ex</span><span class="p">,</span> <span class="o">**</span><span class="n">d</span><span class="p">)</span></div>


<div class="viewcode-block" id="figure_from_source_code"><a class="viewcode-back" href="../../../api/geotecha.plotting.one_d.html#geotecha.plotting.one_d.figure_from_source_code">[docs]</a><span class="k">def</span> <span class="nf">figure_from_source_code</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Put source code of object into a matplotlib figure</span>

<span class="sd">    Parameters</span>
<span class="sd">    ---------</span>
<span class="sd">    obj : python object</span>
<span class="sd">        object to display source code of</span>
<span class="sd">    figsize : tuple, optional</span>
<span class="sd">        figsize in inches, default = None i.e. use matplotlib default</span>
<span class="sd">    font : matplotlib .fontmanager optional</span>
<span class="sd">        font to be applied to the annotation object</span>
<span class="sd">        default=None</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    fig : matplotlib.Figure</span>
<span class="sd">        figure of text</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1">#TODO: needs testing</span>
    <span class="kn">import</span> <span class="nn">inspect</span>

    <span class="n">code</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">inspect</span><span class="o">.</span><span class="n">getsourcelines</span><span class="p">(</span><span class="n">obj</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>

    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
    <span class="n">annot1</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">code</span><span class="p">,</span>
                <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.99</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="s1">&#39;figure fraction&#39;</span><span class="p">,</span>
                <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.99</span><span class="p">),</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;figure fraction&#39;</span><span class="p">,</span>
                <span class="n">va</span><span class="o">=</span><span class="s2">&quot;top&quot;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span>
                <span class="n">arrowprops</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

<span class="c1">#    font = matplotlib.font_manager.FontProperties(family=&#39;times new roman&#39;, style=&#39;italic&#39;, size=16)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">font</span> <span class="ow">is</span>  <span class="kc">None</span><span class="p">:</span>
        <span class="n">annot1</span><span class="o">.</span><span class="n">set_font_properties</span><span class="p">(</span><span class="n">font</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">fig</span></div>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">nose</span>
    <span class="n">nose</span><span class="o">.</span><span class="n">runmodule</span><span class="p">(</span><span class="n">argv</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;nose&#39;</span><span class="p">,</span> <span class="s1">&#39;--verbosity=3&#39;</span><span class="p">,</span> <span class="s1">&#39;--with-doctest&#39;</span><span class="p">])</span>
<span class="c1">#    nose.runmodule(argv=[&#39;nose&#39;, &#39;--verbosity=3&#39;])</span>
<span class="c1">#    a = MarkersDashesColors()</span>
<span class="c1">#    a.color=(0.5, 0, 0)</span>
<span class="c1">#    a.default_marker={       &#39;markersize&#39;:5,</span>
<span class="c1">#                             &#39;markeredgecolor&#39;: a.color,</span>
<span class="c1">#                             &#39;markeredgewidth&#39;:1,</span>
<span class="c1">#                             &#39;markerfacecolor&#39;: a.color,</span>
<span class="c1">#                             &#39;alpha&#39;:0.9,</span>
<span class="c1">#                             &#39;color&#39;: a.color</span>
<span class="c1">#                             }</span>
<span class="c1">#</span>
<span class="c1">#    a.markers=[{&#39;marker&#39;: &#39;o&#39;, &#39;markerfacecolor&#39;: &#39;none&#39;},</span>
<span class="c1">#               {&#39;marker&#39;: &#39;s&#39;},</span>
<span class="c1">#               {&#39;marker&#39;: &#39;^&#39;},]</span>
<span class="c1">#    a.colors=[(0, 0.5, 0), (0, 0, 0.5)]</span>
<span class="c1">#</span>
<span class="c1">#    a.dashes=[(None, None), [4, 4]]</span>
<span class="c1">#</span>
<span class="c1">#    a.merge_default_markers()</span>
<span class="c1">#</span>
<span class="c1">#    a.construct_styles()</span>
<span class="c1">#    a.demo_options()</span>



<span class="c1">#    import doctest</span>
<span class="c1">#    doctest.testmod()</span>
<span class="c1">#    a=MarkersDashesColors()</span>
<span class="c1">#    a.demo_options()</span>
<span class="c1">#    a.construct_styles()</span>
<span class="c1">#    a.construct_styles(markers=[0,5,6,2])</span>
<span class="c1">#    a.construct_styles(markers=[0,5,6,2], dashes=[0,3])</span>
<span class="c1">#    a.construct_styles(markers=[0,5,6,2], dashes=[0,3], marker_colors=[0,1], line_colors=[2,3])</span>
<span class="c1">#    a.demo_styles()</span>


    <span class="c1">#plot_data_in_grid(None,[(1,2),(4,5)],[(3,5)])</span>

    <span class="c1">#flat = [x for sublist in nested for x in sublist] #http://stackoverflow.com/a/2962856/2530083</span>
<span class="c1">#    if 1:</span>
<span class="c1">#        pleasing_defaults()</span>
<span class="c1">#        fig=plt.figure()</span>
<span class="c1">#        x = np.linspace(-np.pi,np.pi,100)</span>
<span class="c1">#        d2 = np.linspace(0,1,4)</span>
<span class="c1">#        d3 = np.linspace(0,1,2)</span>
<span class="c1">#        label1= [&#39;{0:.3g}&#39;.format(i) for i in d2]</span>
<span class="c1">#        y1 = np.sin(x)</span>
<span class="c1">#        y2 = 1000*np.cos(x[:,np.newaxis]-d2)</span>
<span class="c1">#        y3 = 1e-3*np.sin(x[:,np.newaxis]-d3)</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#        data= [[[x,y2]],[[2*x, y1, dict(plot_type=&#39;scatter&#39;)]], [[1.5*x,y3]]]</span>
<span class="c1">#        y_axis_labels=[&#39;0&#39;,&#39;1&#39;, &#39;2&#39;]</span>
<span class="c1">#        x_axis_labels=[&#39;Time&#39;, None, None]</span>
<span class="c1">#</span>
<span class="c1">#        #gs = gridspec.GridSpec(shape, hspace=0.08, wspace=0.1)</span>
<span class="c1">#        shape=(3,3)</span>
<span class="c1">#        gs = gridspec.GridSpec(*shape)</span>
<span class="c1">#        transpose = True</span>
<span class="c1">#        index_steps=(1,-1)</span>
<span class="c1">#        sharey=None</span>
<span class="c1">#        sharex=[None,0,None]</span>
<span class="c1">#</span>
<span class="c1">#        #plot_type=[&#39;plot&#39;,&#39;plot&#39;,&#39;scatter&#39;,&#39;plot&#39;]</span>
<span class="c1">#        gs_index = row_major_order_reverse_map(shape=shape,index_steps=index_steps, transpose=transpose)</span>
<span class="c1">#        gs_index = [np.s_[:2,:2],2,8]</span>
<span class="c1">#        #gs_index=[1,2,3,0]</span>
<span class="c1">#        ax = plot_data_in_grid(fig, data=data, gs=gs,</span>
<span class="c1">#                              gs_index=gs_index,</span>
<span class="c1">#                              sharex=sharex, sharey=sharey)</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#        styles = MarkersDashesColors()()</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#        [apply_dict_to_object(line, d) for line,d in zip(ax[0].get_lines(), styles)]</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#        #apply ylabels to each axis</span>
<span class="c1">#        [plt.setp(ax[i], ylabel=label)</span>
<span class="c1">#            for i, label in enumerate(y_axis_labels) if not label is None]</span>
<span class="c1">#        #apply xlabels to each axis</span>
<span class="c1">#        [plt.setp(ax[i], xlabel=label)</span>
<span class="c1">#            for i,label in enumerate(x_axis_labels) if not label is None]</span>
<span class="c1">#        # turn x tick labels on or off</span>
<span class="c1">#        [plt.setp(ax[i].get_xticklabels(), visible=value)</span>
<span class="c1">#            for i, value in enumerate([True,False,False]) if not value is None]</span>
<span class="c1">#        #gs.tight_layout(fig)</span>
<span class="c1">#</span>
<span class="c1">#        fig.tight_layout()</span>
<span class="c1">#</span>
<span class="c1">##Note: axes.flat</span>
<span class="c1">#</span>
<span class="c1">##        [fig.axes[i]._shared_x_axes.join(fig.axes[i], value) for</span>
<span class="c1">##            i,value in enumerate(sharex) if not value is None]</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#        [print(sorted(map(tuple, fig.axes[i]._shared_x_axes))) for</span>
<span class="c1">#            i,value in enumerate(sharex) if not value is None]</span>
<span class="c1">#        #print(sorted(map(tuple, fig.axes[i]._shared_x_axes)))</span>
<span class="c1">#</span>
<span class="c1">#        #make the joins</span>
<span class="c1">#        [fig.axes[i]._shared_x_axes.join(fig.axes[i], value) for</span>
<span class="c1">#            i,value in enumerate(sharex) if not value is None]</span>
<span class="c1">#</span>
<span class="c1">#        [print(sorted(map(tuple, fig.axes[i]._shared_x_axes))) for</span>
<span class="c1">#            i,value in enumerate(sharex) if not value is None]</span>
<span class="c1">#        #print(sorted(map(tuple, fig.axes[i]._shared_x_axes)))</span>
<span class="c1">##        print([fig.axes[i] in fig.axes[i]._shared_x_axes for</span>
<span class="c1">##            i,value in enumerate(sharex) if not value is None]            )</span>
<span class="c1">##</span>
<span class="c1">#        [fig.axes[i].apply_aspect() for</span>
<span class="c1">#            i,value in enumerate(sharex) if not value is None]</span>
<span class="c1">#        plt.Axes.get_shared_x_axes()</span>
<span class="c1">#        matplot</span>
<span class="c1">#        self._shared_x_axes.join(self, sharex)</span>

<span class="c1">#        print(plt.getp(fig.axes[i], &#39;sharex&#39;))</span>
<span class="c1">#        [plt.setp(fig.axes[i], sharex=value)</span>
<span class="c1">#            for i, value in enumerate(sharex) if not value is None]</span>

<span class="c1">#        iterable_method_call(fig.axes, &#39;set_ylabel&#39;, *y_axis_labels)</span>
<span class="c1">#        iterable_method_call(fig.axes, &#39;set_xlabel&#39;, *x_axis_labels)</span>
<span class="c1">#        iterable_method_call(fig.axes, &#39;set_xlabel&#39;, *x_axis_labels)</span>
<span class="c1">#        xylabel_subplots(fig, y_axis_labels,x_axis_labels)</span>

<span class="c1">#        plt.show()</span>
<span class="c1">#    if 0:</span>
<span class="c1">#        x = np.linspace(-np.pi,np.pi,100)</span>
<span class="c1">#        d = np.linspace(0,1,4)</span>
<span class="c1">#</span>
<span class="c1">#        label1= [&#39;{0:.3g}&#39;.format(i) for i in d]</span>
<span class="c1">#        y1 = np.sin(x)</span>
<span class="c1">#        y2 = np.cos(x[:,np.newaxis]+d)</span>
<span class="c1">#        y3 = np.sin(x[:,np.newaxis]+d)</span>
<span class="c1">#</span>
<span class="c1">#        a= plot_common_x([[[x,y2]],[[x,y1]],[[x,y3]]],</span>
<span class="c1">#</span>
<span class="c1">#                  x_axis_label=&#39;x&#39;, y_axis_labels=[&#39;$\sigma$&#39;, &#39;load&#39;, None], legend_labels=[label1,[&#39;surcharge&#39;],label1],</span>
<span class="c1">#                  hspace=0.1, height_ratios=[2,1,1],</span>
<span class="c1">#                  plot_type=&#39;plot&#39;,</span>
<span class="c1">#                  kwargs_figure=dict(num=3, figsize=(10,10)))</span>
<span class="c1">#</span>
<span class="c1">#        plt.show()</span>




<span class="c1">#    bbox_args = None#dict(boxstyle=&quot;round,pad=0.4&quot;, fc=&quot;yellow&quot;,alpha=0.3)</span>
<span class="c1">#    bbox_args2 = dict(boxstyle=&quot;round,pad=0.6&quot;, fc=None, alpha=0)</span>
<span class="c1">#    arrow_args = dict(arrowstyle=&quot;-&gt;&quot;)</span>
<span class="c1">#    fig=plt.figure()</span>
<span class="c1">#    ax = fig.add_subplot(111)</span>
<span class="c1">#    np.random.seed(2)</span>
<span class="c1">#    x=np.random.randn(100)</span>
<span class="c1">#    y=np.random.randn(100)</span>
<span class="c1">#    scatter = ax.scatter(x, y, label=&#39;h&#39;)</span>
<span class="c1">#</span>
<span class="c1">#    legend=ax.legend()</span>
<span class="c1">#    legend.draggable(True)</span>
<span class="c1">#</span>
<span class="c1">#    anp = ax.annotate(&#39;$\hspace{1}$&#39;, xy=(x[0], y[0]),  xycoords=&#39;data&#39;,</span>
<span class="c1">#                   xytext=None,  textcoords=None,</span>
<span class="c1">#                   ha=&quot;center&quot;, va=&quot;center&quot;,</span>
<span class="c1">#                   bbox=bbox_args2,</span>
<span class="c1">#                   )</span>
<span class="c1">#</span>
<span class="c1">#    ant = ax.annotate(&#39;Drag me 1&#39;, xy=(0.5, 0.5),  xycoords=anp,</span>
<span class="c1">#                   xytext=(15,0.5),  textcoords=anp,#&#39;offset points&#39;,</span>
<span class="c1">#                   ha=&quot;left&quot;, va=&quot;center&quot;,</span>
<span class="c1">#                   bbox=bbox_args,</span>
<span class="c1">#                    arrowprops=dict(</span>
<span class="c1">#                                   #patchB=anp.get_bbox_patch(),</span>
<span class="c1">#                                   connectionstyle=&quot;arc3,rad=0.2&quot;,</span>
<span class="c1">#                                   **arrow_args)</span>
<span class="c1">#                   )</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#    anp.draggable()</span>
<span class="c1">#    ant.draggable()</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#    plt.show()</span>
</pre></div>

          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2014, Rohan Walker.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
    </div>

    

    
  </body>
</html>